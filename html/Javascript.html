<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <style>
  @font-face {
  font-family: octicons-link;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff');
}

.markdown-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.markdown-body .anchor {
  float: left;
  line-height: 1;
  margin-left: -20px;
  padding-right: 4px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #24292e;
  line-height: 1.5;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.markdown-body .pl-c {
  color: #6a737d;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #005cc5;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #6f42c1;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #24292e;
}

.markdown-body .pl-ent {
  color: #22863a;
}

.markdown-body .pl-k {
  color: #d73a49;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #032f62;
}

.markdown-body .pl-smw,
.markdown-body .pl-v {
  color: #e36209;
}

.markdown-body .pl-bu {
  color: #b31d28;
}

.markdown-body .pl-ii {
  background-color: #b31d28;
  color: #fafbfc;
}

.markdown-body .pl-c2 {
  background-color: #d73a49;
  color: #fafbfc;
}

.markdown-body .pl-c2:before {
  content: "^M";
}

.markdown-body .pl-sr .pl-cce {
  color: #22863a;
  font-weight: 700;
}

.markdown-body .pl-ml {
  color: #735c0f;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  color: #005cc5;
  font-weight: 700;
}

.markdown-body .pl-mi {
  color: #24292e;
  font-style: italic;
}

.markdown-body .pl-mb {
  color: #24292e;
  font-weight: 700;
}

.markdown-body .pl-md {
  background-color: #ffeef0;
  color: #b31d28;
}

.markdown-body .pl-mi1 {
  background-color: #f0fff4;
  color: #22863a;
}

.markdown-body .pl-mc {
  background-color: #ffebda;
  color: #e36209;
}

.markdown-body .pl-mi2 {
  background-color: #005cc5;
  color: #f6f8fa;
}

.markdown-body .pl-mdr {
  color: #6f42c1;
  font-weight: 700;
}

.markdown-body .pl-ba {
  color: #586069;
}

.markdown-body .pl-sg {
  color: #959da5;
}

.markdown-body .pl-corl {
  color: #032f62;
  text-decoration: underline;
}

.markdown-body details {
  display: block;
}

.markdown-body summary {
  display: list-item;
}

.markdown-body a {
  background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline-width: 0;
}

.markdown-body strong {
  font-weight: inherit;
  font-weight: bolder;
}

.markdown-body h1 {
  font-size: 2em;
  margin: .67em 0;
}

.markdown-body img {
  border-style: none;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace,monospace;
  font-size: 1em;
}

.markdown-body hr {
  box-sizing: content-box;
  height: 0;
  overflow: visible;
}

.markdown-body input {
  font: inherit;
  margin: 0;
}

.markdown-body input {
  overflow: visible;
}

.markdown-body [type=checkbox] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body * {
  box-sizing: border-box;
}

.markdown-body input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.markdown-body a {
  color: #0366d6;
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body strong {
  font-weight: 600;
}

.markdown-body hr {
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
  height: 0;
  margin: 15px 0;
  overflow: hidden;
}

.markdown-body hr:before {
  content: "";
  display: table;
}

.markdown-body hr:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body details summary {
  cursor: pointer;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body h1 {
  font-size: 32px;
}

.markdown-body h1,
.markdown-body h2 {
  font-weight: 600;
}

.markdown-body h2 {
  font-size: 24px;
}

.markdown-body h3 {
  font-size: 20px;
}

.markdown-body h3,
.markdown-body h4 {
  font-weight: 600;
}

.markdown-body h4 {
  font-size: 16px;
}

.markdown-body h5 {
  font-size: 14px;
}

.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
}

.markdown-body h6 {
  font-size: 12px;
}

.markdown-body p {
  margin-bottom: 10px;
  margin-top: 0;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ol,
.markdown-body ul {
  margin-bottom: 0;
  margin-top: 0;
  padding-left: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ol ol ol,
.markdown-body ol ul ol,
.markdown-body ul ol ol,
.markdown-body ul ul ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre {
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body input::-webkit-inner-spin-button,
.markdown-body input::-webkit-outer-spin-button {
  -webkit-appearance: none;
  appearance: none;
  margin: 0;
}

.markdown-body .border {
  border: 1px solid #e1e4e8!important;
}

.markdown-body .border-0 {
  border: 0!important;
}

.markdown-body .border-bottom {
  border-bottom: 1px solid #e1e4e8!important;
}

.markdown-body .rounded-1 {
  border-radius: 3px!important;
}

.markdown-body .bg-white {
  background-color: #fff!important;
}

.markdown-body .bg-gray-light {
  background-color: #fafbfc!important;
}

.markdown-body .text-gray-light {
  color: #6a737d!important;
}

.markdown-body .mb-0 {
  margin-bottom: 0!important;
}

.markdown-body .my-2 {
  margin-bottom: 8px!important;
  margin-top: 8px!important;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .py-0 {
  padding-bottom: 0!important;
  padding-top: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .py-2 {
  padding-bottom: 8px!important;
  padding-top: 8px!important;
}

.markdown-body .pl-3,
.markdown-body .px-3 {
  padding-left: 16px!important;
}

.markdown-body .px-3 {
  padding-right: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .f6 {
  font-size: 12px!important;
}

.markdown-body .lh-condensed {
  line-height: 1.25!important;
}

.markdown-body .text-bold {
  font-weight: 600!important;
}

.markdown-body:before {
  content: "";
  display: table;
}

.markdown-body:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body>:first-child {
  margin-top: 0!important;
}

.markdown-body>:last-child {
  margin-bottom: 0!important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body blockquote,
.markdown-body dl,
.markdown-body ol,
.markdown-body p,
.markdown-body pre,
.markdown-body table,
.markdown-body ul {
  margin-bottom: 16px;
  margin-top: 0;
}

.markdown-body hr {
  background-color: #e1e4e8;
  border: 0;
  height: .25em;
  margin: 24px 0;
  padding: 0;
}

.markdown-body blockquote {
  border-left: .25em solid #dfe2e5;
  color: #6a737d;
  padding: 0 1em;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #c6cbd1;
  border-bottom-color: #959da5;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #959da5;
  color: #444d56;
  display: inline-block;
  font-size: 11px;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
  line-height: 1.25;
  margin-bottom: 16px;
  margin-top: 24px;
}

.markdown-body h1 {
  font-size: 2em;
}

.markdown-body h1,
.markdown-body h2 {
  border-bottom: 1px solid #eaecef;
  padding-bottom: .3em;
}

.markdown-body h2 {
  font-size: 1.5em;
}

.markdown-body h3 {
  font-size: 1.25em;
}

.markdown-body h4 {
  font-size: 1em;
}

.markdown-body h5 {
  font-size: .875em;
}

.markdown-body h6 {
  color: #6a737d;
  font-size: .85em;
}

.markdown-body ol,
.markdown-body ul {
  padding-left: 2em;
}

.markdown-body ol ol,
.markdown-body ol ul,
.markdown-body ul ol,
.markdown-body ul ul {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body li {
  word-wrap: break-all;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body li+li {
  margin-top: .25em;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
  margin-top: 16px;
  padding: 0;
}

.markdown-body dl dd {
  margin-bottom: 16px;
  padding: 0 16px;
}

.markdown-body table {
  display: block;
  overflow: auto;
  width: 100%;
}

.markdown-body table th {
  font-weight: 600;
}

.markdown-body table td,
.markdown-body table th {
  border: 1px solid #dfe2e5;
  padding: 6px 13px;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

.markdown-body img {
  background-color: #fff;
  box-sizing: content-box;
  max-width: 100%;
}

.markdown-body img[align=right] {
  padding-left: 20px;
}

.markdown-body img[align=left] {
  padding-right: 20px;
}

.markdown-body code {
  background-color: rgba(27,31,35,.05);
  border-radius: 3px;
  font-size: 85%;
  margin: 0;
  padding: .2em .4em;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre>code {
  background: transparent;
  border: 0;
  font-size: 100%;
  margin: 0;
  padding: 0;
  white-space: pre;
  word-break: normal;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
  background-color: #f6f8fa;
  border-radius: 3px;
  font-size: 85%;
  line-height: 1.45;
  overflow: auto;
  padding: 16px;
}

.markdown-body pre code {
  background-color: transparent;
  border: 0;
  display: inline;
  line-height: inherit;
  margin: 0;
  max-width: auto;
  overflow: visible;
  padding: 0;
  word-wrap: normal;
}

.markdown-body .commit-tease-sha {
  color: #444d56;
  display: inline-block;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 90%;
}

.markdown-body .blob-wrapper {
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;
  overflow-x: auto;
  overflow-y: hidden;
}

.markdown-body .blob-wrapper-embedded {
  max-height: 240px;
  overflow-y: auto;
}

.markdown-body .blob-num {
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  color: rgba(27,31,35,.3);
  cursor: pointer;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  line-height: 20px;
  min-width: 50px;
  padding-left: 10px;
  padding-right: 10px;
  text-align: right;
  user-select: none;
  vertical-align: top;
  white-space: nowrap;
  width: 1%;
}

.markdown-body .blob-num:hover {
  color: rgba(27,31,35,.6);
}

.markdown-body .blob-num:before {
  content: attr(data-line-number);
}

.markdown-body .blob-code {
  line-height: 20px;
  padding-left: 10px;
  padding-right: 10px;
  position: relative;
  vertical-align: top;
}

.markdown-body .blob-code-inner {
  color: #24292e;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  overflow: visible;
  white-space: pre;
  word-wrap: normal;
}

.markdown-body .pl-token.active,
.markdown-body .pl-token:hover {
  background: #ffea7f;
  cursor: pointer;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-bottom-color: #c6cbd1;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #c6cbd1;
  color: #444d56;
  display: inline-block;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body :checked+.radio-label {
  border-color: #0366d6;
  position: relative;
  z-index: 1;
}

.markdown-body .tab-size[data-tab-size="1"] {
  -moz-tab-size: 1;
  tab-size: 1;
}

.markdown-body .tab-size[data-tab-size="2"] {
  -moz-tab-size: 2;
  tab-size: 2;
}

.markdown-body .tab-size[data-tab-size="3"] {
  -moz-tab-size: 3;
  tab-size: 3;
}

.markdown-body .tab-size[data-tab-size="4"] {
  -moz-tab-size: 4;
  tab-size: 4;
}

.markdown-body .tab-size[data-tab-size="5"] {
  -moz-tab-size: 5;
  tab-size: 5;
}

.markdown-body .tab-size[data-tab-size="6"] {
  -moz-tab-size: 6;
  tab-size: 6;
}

.markdown-body .tab-size[data-tab-size="7"] {
  -moz-tab-size: 7;
  tab-size: 7;
}

.markdown-body .tab-size[data-tab-size="8"] {
  -moz-tab-size: 8;
  tab-size: 8;
}

.markdown-body .tab-size[data-tab-size="9"] {
  -moz-tab-size: 9;
  tab-size: 9;
}

.markdown-body .tab-size[data-tab-size="10"] {
  -moz-tab-size: 10;
  tab-size: 10;
}

.markdown-body .tab-size[data-tab-size="11"] {
  -moz-tab-size: 11;
  tab-size: 11;
}

.markdown-body .tab-size[data-tab-size="12"] {
  -moz-tab-size: 12;
  tab-size: 12;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 .2em .25em -1.6em;
  vertical-align: middle;
}

.markdown-body hr {
  border-bottom-color: #eee;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .pl-3 {
  padding-left: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .pl-7 {
  padding-left: 48px!important;
}

.markdown-body .pl-8 {
  padding-left: 64px!important;
}

.markdown-body .pl-9 {
  padding-left: 80px!important;
}

.markdown-body .pl-10 {
  padding-left: 96px!important;
}

.markdown-body .pl-11 {
  padding-left: 112px!important;
}

.markdown-body .pl-12 {
  padding-left: 128px!important;
}

/*# sourceURL=webpack://./node_modules/github-markdown-css/github-markdown.css */
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9naXRodWItbWFya2Rvd24tY3NzL2dpdGh1Yi1tYXJrZG93bi5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwwQkFBMEI7RUFDMUIsMkRBQXF0RTtBQUN2dEU7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsa0JBQWtCO0VBQ2xCLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxjQUFjO0VBQ2Qsa0JBQWtCO0VBQ2xCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTs7Ozs7O0VBTUUsY0FBYztFQUNkLHNCQUFzQjtFQUN0QixrQkFBa0I7QUFDcEI7O0FBRUE7Ozs7OztFQU1FLHFCQUFxQjtBQUN2Qjs7QUFFQTs7Ozs7O0VBTUUsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsMEJBQTBCO0VBQzFCLDhCQUE4QjtFQUM5QixjQUFjO0VBQ2QsZ0JBQWdCO0VBQ2hCLGtJQUFrSTtFQUNsSSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7O0VBRUUsY0FBYztBQUNoQjs7QUFFQTs7RUFFRSxjQUFjO0FBQ2hCOztBQUVBOztFQUVFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTs7Ozs7OztFQU9FLGNBQWM7QUFDaEI7O0FBRUE7O0VBRUUsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7OztFQUdFLGNBQWM7RUFDZCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxjQUFjO0VBQ2Qsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsY0FBYztFQUNkLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSw2QkFBNkI7QUFDL0I7O0FBRUE7O0VBRUUsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxlQUFlO0FBQ2pCOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBOzs7RUFHRSxnQ0FBZ0M7RUFDaEMsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHVCQUF1QjtFQUN2QixTQUFTO0VBQ1QsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsYUFBYTtFQUNiLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0QixVQUFVO0FBQ1o7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsU0FBUztFQUNULGdDQUFnQztFQUNoQyxTQUFTO0VBQ1QsY0FBYztFQUNkLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFdBQVc7RUFDWCxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGlCQUFpQjtBQUNuQjs7QUFFQTs7RUFFRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBOzs7Ozs7RUFNRSxnQkFBZ0I7RUFDaEIsYUFBYTtBQUNmOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTs7RUFFRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTs7RUFFRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTs7RUFFRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGFBQWE7QUFDZjs7QUFFQTtFQUNFLFNBQVM7QUFDWDs7QUFFQTs7RUFFRSxnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLGVBQWU7QUFDakI7O0FBRUE7O0VBRUUsNEJBQTRCO0FBQzlCOztBQUVBOzs7O0VBSUUsNEJBQTRCO0FBQzlCOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTs7RUFFRSw0RUFBNEU7RUFDNUUsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixhQUFhO0FBQ2Y7O0FBRUE7O0VBRUUsd0JBQXdCO0VBQ3hCLGdCQUFnQjtFQUNoQixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxtQ0FBbUM7QUFDckM7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSwwQ0FBMEM7QUFDNUM7O0FBRUE7RUFDRSw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRSxtQ0FBbUM7QUFDckM7O0FBRUE7RUFDRSx3QkFBd0I7QUFDMUI7O0FBRUE7RUFDRSwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSw0QkFBNEI7RUFDNUIseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsMkJBQTJCO0VBQzNCLHdCQUF3QjtBQUMxQjs7QUFFQTtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLDZCQUE2QjtFQUM3QiwwQkFBMEI7QUFDNUI7O0FBRUE7O0VBRUUsNEJBQTRCO0FBQzlCOztBQUVBO0VBQ0UsNkJBQTZCO0FBQy9COztBQUVBO0VBQ0UsNEJBQTRCO0FBQzlCOztBQUVBO0VBQ0UsNEJBQTRCO0FBQzlCOztBQUVBO0VBQ0UsNEJBQTRCO0FBQzlCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsMEJBQTBCO0FBQzVCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsV0FBVztFQUNYLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QscUJBQXFCO0FBQ3ZCOztBQUVBOzs7Ozs7O0VBT0UsbUJBQW1CO0VBQ25CLGFBQWE7QUFDZjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixTQUFTO0VBQ1QsYUFBYTtFQUNiLGNBQWM7RUFDZCxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxnQ0FBZ0M7RUFDaEMsY0FBYztFQUNkLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIseUJBQXlCO0VBQ3pCLDRCQUE0QjtFQUM1QixrQkFBa0I7RUFDbEIsa0NBQWtDO0VBQ2xDLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsc0JBQXNCO0FBQ3hCOztBQUVBOzs7Ozs7RUFNRSxnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCLG1CQUFtQjtFQUNuQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBOztFQUVFLGdDQUFnQztFQUNoQyxvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtBQUNsQjs7QUFFQTs7RUFFRSxpQkFBaUI7QUFDbkI7O0FBRUE7Ozs7RUFJRSxnQkFBZ0I7RUFDaEIsYUFBYTtBQUNmOztBQUVBO0VBQ0Usb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsY0FBYztFQUNkLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsZ0JBQWdCO0VBQ2hCLFVBQVU7QUFDWjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGNBQWM7RUFDZCxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7O0VBRUUseUJBQXlCO0VBQ3pCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0Qiw2QkFBNkI7QUFDL0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsdUJBQXVCO0VBQ3ZCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxvQ0FBb0M7RUFDcEMsa0JBQWtCO0VBQ2xCLGNBQWM7RUFDZCxTQUFTO0VBQ1Qsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsdUJBQXVCO0VBQ3ZCLFNBQVM7RUFDVCxlQUFlO0VBQ2YsU0FBUztFQUNULFVBQVU7RUFDVixnQkFBZ0I7RUFDaEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjs7QUFFQTs7RUFFRSx5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLGNBQWM7RUFDZCxpQkFBaUI7RUFDakIsY0FBYztFQUNkLGFBQWE7QUFDZjs7QUFFQTtFQUNFLDZCQUE2QjtFQUM3QixTQUFTO0VBQ1QsZUFBZTtFQUNmLG9CQUFvQjtFQUNwQixTQUFTO0VBQ1QsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixVQUFVO0VBQ1YsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsY0FBYztFQUNkLHFCQUFxQjtFQUNyQiw0RUFBNEU7RUFDNUUsY0FBYztBQUNoQjs7QUFFQTtFQUNFLDhCQUE4QjtFQUM5QiwrQkFBK0I7RUFDL0IsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6Qix3QkFBd0I7RUFDeEIsZUFBZTtFQUNmLDRFQUE0RTtFQUM1RSxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQixTQUFTO0FBQ1g7O0FBRUE7RUFDRSx3QkFBd0I7QUFDMUI7O0FBRUE7RUFDRSwrQkFBK0I7QUFDakM7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsY0FBYztFQUNkLDRFQUE0RTtFQUM1RSxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQixpQkFBaUI7QUFDbkI7O0FBRUE7O0VBRUUsbUJBQW1CO0VBQ25CLGVBQWU7QUFDakI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIseUJBQXlCO0VBQ3pCLDRCQUE0QjtFQUM1QixrQkFBa0I7RUFDbEIsa0NBQWtDO0VBQ2xDLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIsMEVBQTBFO0VBQzFFLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixVQUFVO0FBQ1o7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsMkJBQTJCO0VBQzNCLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLDZCQUE2QjtBQUMvQiIsInNvdXJjZVJvb3QiOiIifQ== */
  </style>
  <style>
  /**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #9a6e3a;
	/* This background color was intended by the author of this theme. */
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function,
.token.class-name {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

/*# sourceURL=webpack://./node_modules/prismjs/themes/prism.css */
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9wcmlzbWpzL3RoZW1lcy9wcmlzbS5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFJRTs7QUFFRjs7Q0FFQyxZQUFZO0NBQ1osZ0JBQWdCO0NBQ2hCLHdCQUF3QjtDQUN4QixzRUFBc0U7Q0FDdEUsY0FBYztDQUNkLGdCQUFnQjtDQUNoQixnQkFBZ0I7Q0FDaEIsb0JBQW9CO0NBQ3BCLGtCQUFrQjtDQUNsQixpQkFBaUI7Q0FDakIsZ0JBQWdCOztDQUVoQixnQkFBZ0I7Q0FDaEIsY0FBYztDQUNkLFdBQVc7O0NBRVgscUJBQXFCO0NBQ3JCLGtCQUFrQjtDQUNsQixpQkFBaUI7Q0FDakIsYUFBYTtBQUNkOztBQUVBOztDQUVDLGlCQUFpQjtDQUNqQixtQkFBbUI7QUFDcEI7O0FBRUE7O0NBRUMsaUJBQWlCO0NBQ2pCLG1CQUFtQjtBQUNwQjs7QUFFQTtDQUNDOztFQUVDLGlCQUFpQjtDQUNsQjtBQUNEOztBQUVBLGdCQUFnQjtBQUNoQjtDQUNDLFlBQVk7Q0FDWixjQUFjO0NBQ2QsY0FBYztBQUNmOztBQUVBOztDQUVDLG1CQUFtQjtBQUNwQjs7QUFFQSxnQkFBZ0I7QUFDaEI7Q0FDQyxhQUFhO0NBQ2IsbUJBQW1CO0NBQ25CLG1CQUFtQjtBQUNwQjs7QUFFQTs7OztDQUlDLGdCQUFnQjtBQUNqQjs7QUFFQTtDQUNDLFdBQVc7QUFDWjs7QUFFQTtDQUNDLFdBQVc7QUFDWjs7QUFFQTs7Ozs7OztDQU9DLFdBQVc7QUFDWjs7QUFFQTs7Ozs7O0NBTUMsV0FBVztBQUNaOztBQUVBOzs7OztDQUtDLGNBQWM7Q0FDZCxvRUFBb0U7Q0FDcEUsaUNBQWlDO0FBQ2xDOztBQUVBOzs7Q0FHQyxXQUFXO0FBQ1o7O0FBRUE7O0NBRUMsY0FBYztBQUNmOztBQUVBOzs7Q0FHQyxXQUFXO0FBQ1o7O0FBRUE7O0NBRUMsaUJBQWlCO0FBQ2xCO0FBQ0E7Q0FDQyxrQkFBa0I7QUFDbkI7O0FBRUE7Q0FDQyxZQUFZO0FBQ2IiLCJzb3VyY2VSb290IjoiIn0= */
  </style>
  <style>
  
  </style>
  <style>
    .markdown-body {
      font-family: -apple-system,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }

    @media not print {
      .markdown-body {
        padding: 45px;
      }

      @media (max-width: 767px) {
        .markdown-body {
          padding: 15px;
        }
      }
    }

    .hf-container {
      color: #24292e;
      line-height: 1.3;
    }

    .markdown-body .highlight pre,
    .markdown-body pre {
      white-space: pre-wrap;
    }
    .markdown-body table {
      display: table;
    }
    .markdown-body img[data-align="center"] {
      display: block;
      margin: 0 auto;
    }
    .markdown-body img[data-align="right"] {
      display: block;
      margin: 0 0 0 auto;
    }
    .markdown-body li.task-list-item {
      list-style-type: none;
    }
    .markdown-body li > [type=checkbox] {
      margin: 0 0 0 -1.3em;
    }
    .markdown-body input[type="checkbox"] ~ p {
      margin-top: 0;
      display: inline-block;
    }
    .markdown-body ol ol,
    .markdown-body ul ol {
      list-style-type: decimal;
    }
    .markdown-body ol ol ol,
    .markdown-body ol ul ol,
    .markdown-body ul ol ol,
    .markdown-body ul ul ol {
      list-style-type: decimal;
    }
  </style>
  <style>.markdown-body a.footnote-ref {
  text-decoration: none;
}

.footnotes {
  font-size: .85em;
  opacity: .8;
}

.footnotes li[role="doc-endnote"] {
  position: relative;
}

.footnotes .footnote-back {
  position: absolute;
  font-family: initial;
  top: .2em;
  right: 1em;
  text-decoration: none;
}

.inline-math.invalid,
.multiple-math.invalid {
  color: rgb(255, 105, 105);
}

.toc-container {
  width: 100%;
}

.toc-container .toc-title {
  font-weight: 700;
  font-size: 1.2em;
  margin-bottom: 0;
}

.toc-container li,
.toc-container ul,
.toc-container ul li {
  list-style: none !important;
}

.toc-container > ul {
  padding-left: 0;
}

.toc-container ul li span {
  display : flex;
}

.toc-container ul li span a {
  color: inherit;
  text-decoration: none;
}
.toc-container ul li span a:hover {
  color: inherit;
  text-decoration: none;
}

.toc-container ul li span span.dots {
  flex: 1;
  height: 0.65em;
  margin: 0 10px;
  border-bottom: 2px dotted black;
}

/*# sourceURL=webpack://./src/muya/lib/assets/styles/exportStyle.css */
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tdXlhL2xpYi9hc3NldHMvc3R5bGVzL2V4cG9ydFN0eWxlLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsb0JBQW9CO0VBQ3BCLFNBQVM7RUFDVCxVQUFVO0VBQ1YscUJBQXFCO0FBQ3ZCOztBQUVBOztFQUVFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsZ0JBQWdCO0FBQ2xCOztBQUVBOzs7RUFHRSwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxxQkFBcUI7QUFDdkI7QUFDQTtFQUNFLGNBQWM7RUFDZCxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxPQUFPO0VBQ1AsY0FBYztFQUNkLGNBQWM7RUFDZCwrQkFBK0I7QUFDakMiLCJzb3VyY2VSb290IjoiIn0= */</style>
  <style>.markdown-body{}pre.front-matter{display:none!important;}</style>
</head>
<body>
  <article class="markdown-body"><h1 class="atx" id="javascript-知识要点">JavaScript 知识要点</h1>
<hr>
<h2 class="atx" id="01、标识符">01、标识符</h2>
<p><em>要是有所得罪请原谅。本是出自一番好意，只是想显摆点儿粗浅技艺，那才是我们的初衷。</em></p>
<blockquote>
<p>1、标识符由一个字母开头（也允许_$开头，但不推荐），后面选择性地加上一个或多个字母、数字、下划线。</p>
</blockquote>
<blockquote>
<p>2、注释可以采用/*    */或者//两种形式，但一般不推荐/*   */块注释，因为会有不安全的情况，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">/*
    var rm_a=/a*/</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">/</span></code></pre>
<h2 class="atx" id="02、数据类型">02、数据类型</h2>
<p><em>凡是过往，皆为序章。</em></p>
<blockquote>
<p>1、数据类型包括简单类型和对象。</p>
</blockquote>
<blockquote>
<p>2、简单类型包括（数字、字符串、布尔值、null、undefined）。</p>
</blockquote>
<blockquote>
<p>3、数字类型在内部被表示为64位的浮点数，和Java中的Double数字类型一样，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c<span class="token operator">=</span>a<span class="token operator">===</span>b<span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：true</span></code></pre>
<blockquote>
<p>4、字符串中的所有字符都是16位的Unicode字符，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> a1<span class="token operator">=</span><span class="token string">"A"</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b1<span class="token operator">=</span><span class="token string">"\u0041"</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c1<span class="token operator">=</span>a1<span class="token operator">===</span>b1<span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：true</span>

<span class="token keyword">var</span> a2<span class="token operator">=</span><span class="token string">'c'</span><span class="token operator">+</span><span class="token string">'a'</span><span class="token operator">+</span><span class="token string">'t'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b2<span class="token operator">=</span><span class="token string">"cat"</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c2<span class="token operator">=</span>a2<span class="token operator">===</span>b2<span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：true</span></code></pre>
<blockquote>
<p>5、对象是除简单类型以外的所有值。</p>
</blockquote>
<h2 class="atx" id="03、对象">03、对象</h2>
<p><em>对于丑陋的事物，爱会闭目无视。</em></p>
<p>JavaScript中的对象是可变的键控集合（keyed collections）。</p>
<blockquote>
<p>1、数组是对象，函数是对象，正则表达式是对象，对象自然也是对象。</p>
</blockquote>
<blockquote>
<p>2、对象是属性的容器，其中每个属性都拥有名字和值。</p>
</blockquote>
<blockquote>
<p>3、属性的名字可以是包括空字符串在内的任意字符串（如果不是合法的标识符命名方式，需要用引号括住），如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> object<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token string-property property">"first-name"</span><span class="token operator">:</span><span class="token string">"Hu"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"last name"</span><span class="token operator">:</span><span class="token string">"Weige"</span><span class="token punctuation">,</span>
    <span class="token string-property property">""</span><span class="token operator">:</span><span class="token string">"Zhuxin"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">city_name</span><span class="token operator">:</span><span class="token string">"Beijing"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">42</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>object<span class="token punctuation">[</span><span class="token string">"first-name"</span><span class="token punctuation">]</span><span class="token operator">+</span>object<span class="token punctuation">[</span><span class="token string">"last name"</span><span class="token punctuation">]</span><span class="token operator">+</span>object<span class="token punctuation">.</span>city_name<span class="token operator">+</span>object<span class="token punctuation">[</span><span class="token string">""</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：HuWeigeBeijingZhuxin</span></code></pre>
<blockquote>
<p>4、属性的值可以是除undefined值以外的任何值(其实类似xobject.age=undefined;这样赋值也可以）；</p>
</blockquote>
<blockquote>
<p>5、如果检索一个不存在的成员的属性值，将返回undefined，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> empty_object<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> middle<span class="token operator">=</span>empty_object<span class="token punctuation">[</span><span class="token string">"middle-name"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> city<span class="token operator">=</span>empty_object<span class="token punctuation">.</span>city_name<span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>middle<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：undefined undefined</span></code></pre>
<blockquote>
<p>6、使用||运算符可以用来填充默认值，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> empty_object2<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> middle2<span class="token operator">=</span>empty_object2<span class="token punctuation">[</span><span class="token string">"middle-name"</span><span class="token punctuation">]</span><span class="token operator">||</span><span class="token string">'middle-none'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> city2<span class="token operator">=</span>empty_object2<span class="token punctuation">.</span>city_name<span class="token operator">||</span><span class="token string">'unkonwn'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>middle2<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>city2<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：middle-none unkonwn</span></code></pre>
<blockquote>
<p>7、尝试从undefined的成员属性中取值会导致TypeError异常，可以通过&amp;&amp;运算符来避免异常，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> empty_object3<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> address3<span class="token operator">=</span>empty_object3<span class="token punctuation">.</span>address<span class="token punctuation">;</span>
<span class="token keyword">var</span> city3<span class="token operator">=</span>address3<span class="token punctuation">.</span>city<span class="token punctuation">;</span>   <span class="token comment">//抛出异常</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>address3<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>city3<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//控制台输出：Uncaught TypeError: Cannot read properties of undefined (reading 'city')</span>
<span class="token comment">//说明无法从undefined类型中获取任何属性。</span>

<span class="token keyword">var</span> empty_object4<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> address4<span class="token operator">=</span>empty_object4<span class="token punctuation">.</span>address<span class="token punctuation">;</span>
<span class="token keyword">var</span> city4<span class="token operator">=</span>empty_object4<span class="token punctuation">.</span>address <span class="token operator">&amp;&amp;</span> empty_object4<span class="token punctuation">.</span>address<span class="token punctuation">.</span>city<span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>address4<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>city4<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：undefined undefined</span></code></pre>
<blockquote>
<p>8、每个对象都连接到原型对象Object.prototype，它是JavaScript中的标配对象。原型连接在更新时是不起作用的，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> xobject<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
xobject<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"huwg"</span><span class="token punctuation">;</span>
xobject<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">42</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>xobject<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>xobject<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：huwg 42</span>

<span class="token keyword">var</span> <span class="token function-variable function">xfunction</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
xfunction<span class="token punctuation">.</span>prototype<span class="token operator">=</span>xobject<span class="token punctuation">;</span>
<span class="token keyword">var</span> an_xobject<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">xfunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>an_xobject<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>an_xobject<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：huwg 42</span>

an_xobject<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"huny"</span>
an_xobject<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">;</span>

xobject<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"humz"</span><span class="token punctuation">;</span>
xobject<span class="token punctuation">.</span>address<span class="token operator">=</span><span class="token string">"Beijing"</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>xobject<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>xobject<span class="token punctuation">.</span>age<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>an_xobject<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：humz 42 Beijing</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>an_xobject<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>an_xobject<span class="token punctuation">.</span>age<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>an_xobject<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：huny 12 Beijing</span></code></pre>
<blockquote>
<p>9、反射（Reflection）。typeof操作符可以确定属性的类型，原型链中的任何属性有类型，如果只想获取对象自身独有属性，可以使用hasOwnProperty方法判断，该方法不会检查原型链。如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> otox<span class="token operator">=</span><span class="token keyword">typeof</span> an_xobject<span class="token punctuation">;</span>
<span class="token keyword">var</span> otox_name<span class="token operator">=</span><span class="token keyword">typeof</span> an_xobject<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token keyword">var</span> otox_age<span class="token operator">=</span><span class="token keyword">typeof</span> an_xobject<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
<span class="token keyword">var</span> otox_address<span class="token operator">=</span><span class="token keyword">typeof</span> an_xobject<span class="token punctuation">.</span>address<span class="token punctuation">;</span>
<span class="token keyword">var</span> otox_ts<span class="token operator">=</span><span class="token keyword">typeof</span> an_xobject<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
<span class="token keyword">var</span> otox_ct<span class="token operator">=</span><span class="token keyword">typeof</span> an_xobject<span class="token punctuation">.</span>create<span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>otox<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>otox_name<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>otox_age<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>otox_address<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>otox_ts<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>otox_ct<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：object string number string function undefined</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>an_xobject<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>an_xobject<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'address'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>an_xobject<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：true false false</span>
<span class="token comment">//因为an_xobject.name="huny"会扩充name属性到an_xobject对象，而an_xobject.address是原型属性，hasOwnProperty()不会检查原型链。</span></code></pre>
<blockquote>
<p>10、减少全局变量的方法之一是为你的应用创建一个唯一的全局变量，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> ZhuXinApp<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
ZhuXinApp<span class="token punctuation">.</span>Staff<span class="token operator">=</span><span class="token punctuation">{</span>
   <span class="token string-property property">"first-name"</span><span class="token operator">:</span><span class="token string">"Hu"</span><span class="token punctuation">,</span>
   <span class="token string-property property">"last-name"</span><span class="token operator">:</span><span class="token string">"weige"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
ZhuXinApp<span class="token punctuation">.</span>Job<span class="token operator">=</span><span class="token punctuation">{</span>
   <span class="token literal-property property">company</span><span class="token operator">:</span><span class="token string">"Zhuxin"</span><span class="token punctuation">,</span>
   <span class="token literal-property property">address</span><span class="token operator">:</span><span class="token string">"Beijing"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 class="atx" id="04、函数">04、函数</h2>
<p><em>所有的过失在未犯之前，都已定下应处的惩罚。</em></p>
<blockquote>
<p>1、除了声明时定义的形式参数，每个函数还接收两个附加的参数：this和arguments。</p>
</blockquote>
<blockquote>
<p>2、当实际参数（arguments）的个数与形式参数（parameters）的个数不匹配时，不会导致运行时错误。如果实际参数值多了，超出的参数值会被忽略。如果实际参数值少了，缺失的值会被替换为undefined。</p>
</blockquote>
<blockquote>
<p>3、对实际参数值不会进行类型检查，任何类型的实际参数值都可以被传递给任何形式参数。</p>
</blockquote>
<blockquote>
<p>4、调用。JavaScript中一共有4中调用方式：方法调用模式、函数调用模式、构造器调用模式和apply调用模式。（是否还有call、bind等方式？）</p>
</blockquote>
<blockquote>
<blockquote>
<p>4.1、方法调用模式。函数被保存为对象的一个属性，我们称之为函数的一个方法，当一个方法被调用时，this被绑定到这个对象，如下例：</p>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> yobject<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token function-variable function">increment</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inc</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token operator">+=</span><span class="token keyword">typeof</span> inc<span class="token operator">===</span><span class="token string">'number'</span><span class="token operator">?</span>inc<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">reset</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
yobject<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>yobject<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：1</span>

yobject<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>yobject<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：0</span>

yobject<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>yobject<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：100</span></code></pre>
<blockquote>
<blockquote>
<p>4.2、函数调用模式。当一个函数并非一个对象的属性时，它被当做一个函数来调用，this被绑定到全局对象，如下例：</p>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> yobject<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token function-variable function">increment</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inc</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token operator">+=</span><span class="token keyword">typeof</span> inc<span class="token operator">===</span><span class="token string">'number'</span><span class="token operator">?</span>inc<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">reset</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
yobject<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>yobject<span class="token punctuation">.</span>value<span class="token punctuation">;</span> 
<span class="token comment">//输出：1</span>

yobject<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>yobject<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：0</span>

yobject<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>yobject<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：100</span>

<span class="token comment">//通过函数字面量创建一个数值倍增函数。</span>
<span class="token keyword">var</span> <span class="token function-variable function">yadd</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//给yobject对象扩展一个double方法</span>
yobject<span class="token punctuation">.</span><span class="token function-variable function">double</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> that<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token comment">//此时this绑定到yobject对象。</span>
    <span class="token keyword">var</span> <span class="token function-variable function">helper</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// this.value=yadd(this.value,this.value); //此时this绑定到window全局对象，无法完成计算。</span>
        that<span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token function">yadd</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>value<span class="token punctuation">,</span>that<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">helper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//以函数调用模式调用helper方法。</span>
<span class="token punctuation">}</span>

<span class="token comment">//以方法调用模式调用double方法</span>
yobject<span class="token punctuation">.</span><span class="token function">double</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>yobject<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：200</span></code></pre>
<blockquote>
<blockquote>
<p>4.3、构造器调用模式。JavaScript是一门基于原型继承的语言，如果在一个函数前面带上new关键字来调用，那么背地里将会创建一个连接到该对象的prototype成员的新对象，同时this会被绑定到那个新对象上，如下例：</p>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//创建一个名为AConstructor的构造器函数，它构造一个带有cstatus属性的对象。</span>
<span class="token keyword">var</span> <span class="token function-variable function">AConstructor</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cstatus<span class="token operator">=</span>str<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//给AConstructor的所有实例提供一个名为getupper的公共方法。</span>
<span class="token class-name">AConstructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getupper</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cstatus<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//构造一个AConstructor实例</span>
<span class="token keyword">var</span> aconstructor<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AConstructor</span><span class="token punctuation">(</span><span class="token string">"Beijing Zhuxin."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>aconstructor<span class="token punctuation">.</span><span class="token function">getupper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"   "</span><span class="token operator">+</span>aconstructor<span class="token punctuation">.</span>cstatus<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：BEIJING ZHUXIN.   Beijing Zhuxin.</span></code></pre>
<blockquote>
<blockquote>
<p>一个函数如果创建的目的就是希望结合new前缀来使用，那么它就被称为构造器函数。
<mark>不推荐使用构造器函数，有更好的替代方式，是什么呢？。为什么使用构造器函数，它跟普通函数有什么区别，以下是我的理解。</mark></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p> 我理解的构造器函数与字面量函数的区别，先看字面量的函数定义方式：</p>
</blockquote>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//创建一个名为BConstructor函数，它创建一个cstatus属性和一个名为getupper方法。</span>
<span class="token keyword">var</span> <span class="token function-variable function">BConstructor</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> cstatus<span class="token operator">=</span>str<span class="token punctuation">;</span>    

    <span class="token keyword">var</span> <span class="token function-variable function">getupper</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> cstatus<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">getupper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token function">BConstructor</span><span class="token punctuation">(</span><span class="token string">'World Asia.'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"   "</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>cstatus<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：WORLD ASIA.   undefined</span>
<span class="token comment">//示例说明采用var创建的cstatus属性作用域为函数内部，只能在函数内部访问。</span></code></pre>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p> 再模仿构造器中使用this扩展属性的方法来创建函数,会发现this被绑定在全局对象window上：</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//创建一个名为CConstructor函数，它在this对象上扩展一个cstatus属性和一个名为getupper方法。</span>
<span class="token keyword">var</span> <span class="token function-variable function">CConstructor</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cstatus<span class="token operator">=</span>str<span class="token punctuation">;</span> 

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getupper</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cstatus<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getupper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token function">CConstructor</span><span class="token punctuation">(</span><span class="token string">'China Beijing.'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"   "</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>cstatus<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：CHINA BEIJING.   China Beijing.</span>
<span class="token comment">//此时this被绑定在全局对象window上，this.getupper()表示CConstructor创建的全局方法，this.cstatus表示CConstructor创建的全局属性。</span>
</code></pre>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p> 那么我们能不能模仿创建函数的方式来创建构造器呢,先用var 属性创建构造器函数试试，看以下代码：</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//创建一个名为DConstructor的构造器函数，它构造一个带有cstatus属性的对象和一个名为getupper方法。</span>
<span class="token keyword">var</span> <span class="token function-variable function">DConstructor</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> cstatus<span class="token operator">=</span>str<span class="token punctuation">;</span>

    <span class="token keyword">var</span> <span class="token function-variable function">getupper</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> cstatus<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//构造一个DConstructor实例</span>
<span class="token keyword">var</span> dconstructor<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">DConstructor</span><span class="token punctuation">(</span><span class="token string">"Asia China."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cstatus<span class="token operator">+</span><span class="token string">"   "</span><span class="token operator">+</span>dconstructor<span class="token punctuation">.</span>cstatus<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：China Beijing.   undefined</span>
<span class="token comment">//此时this.cstatus表示CConstructor创建的全局属性，dconstructor.cstatus是无效属性。</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getupper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"   "</span><span class="token operator">+</span>dconstructor<span class="token punctuation">.</span><span class="token function">getupper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//控制台输出：Uncaught TypeError: dconstructor.getstatus is not a function。</span>
<span class="token comment">//此异常实例说明无法访问到getstatus方法，采用函数内部创建函数的方式无法被实例访问。</span></code></pre>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p> 再用this全局对象属性创建构造器函数试试，看以下代码：</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//创建一个名为EConstructor的构造器函数，它构造一个带有cstatus属性的对象和一个名为getupper方法。</span>
<span class="token keyword">var</span> <span class="token function-variable function">EConstructor</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cstatus<span class="token operator">=</span>str<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getupper</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cstatus<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//构造一个EConstructor实例</span>
<span class="token keyword">var</span> econstructor<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EConstructor</span><span class="token punctuation">(</span><span class="token string">"Asia Beijing."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cstatus<span class="token operator">+</span><span class="token string">"   "</span><span class="token operator">+</span>econstructor<span class="token punctuation">.</span>cstatus<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：China Beijing.   Asia Beijing.</span>
<span class="token comment">//此时this.cstatus表示CConstructor创建的全局属性，econstructor.cstatus是实例的属性。</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getupper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"   "</span><span class="token operator">+</span>econstructor<span class="token punctuation">.</span><span class="token function">getupper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：CHINA BEIJING.   ASIA BEIJING.</span>
<span class="token comment">//此时this.getupper()表示CConstructor创建的全局方法，econstructor.getupper()是实例的私有方法。</span></code></pre>
<blockquote>
<blockquote>
<p>4.4、Apply调用模式。JavaScript是一门函数式的面向对象的语言，所以函数可以拥有方法，apply方法接收两个参数，第1个是要绑定给this的值，第2个就是参数数组，如下例：</p>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//通过函数字面量创建一个数值相加函数。</span>
<span class="token keyword">var</span> <span class="token function-variable function">fadd</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> farray<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fsum<span class="token operator">=</span><span class="token function">fadd</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>farray<span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>fsum<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：7</span></code></pre>
<blockquote>
<blockquote>
<p>没有参数的函数可以通过传递对象替换函数中的this对象，通过提取this的属性值完成运算，按第二个参数必须是数组类型，否则将报错，参考以下代码：</p>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> statusObject<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token literal-property property">cstatus</span><span class="token operator">:</span><span class="token string">'World Zhuxin.'</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> gstatus<span class="token operator">=</span><span class="token class-name">AConstructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">getupper</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>statusObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将statusObject传递给AConstructor.prototype.getupper函数中的this，自然this.cstatus.toUpperCase()就等于statusObject.cstatus.toUpperCase()。</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gstatus<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：WORLD ZHUXIN.</span>

<span class="token keyword">var</span> hstatus<span class="token operator">=</span>econstructor<span class="token punctuation">.</span><span class="token function">getupper</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>statusObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将statusObject传递给实例econstructor中的getupper函数中的this，自然this.cstatus.toUpperCase()就等于statusObject.cstatus.toUpperCase()。</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>hstatus<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：WORLD ZHUXIN.</span>


<span class="token comment">//通过函数字面量创建一个数值相加函数。</span>
<span class="token keyword">var</span> <span class="token function-variable function">fadd</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> fsum<span class="token operator">=</span><span class="token function">fadd</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>fsum<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//控制台输出：Uncaught TypeError: CreateListFromArrayLike called on non-object</span>
<span class="token comment">//表示函数的Apply调用模式的第二个参数必须是数组形式，不能使用其它类型。</span></code></pre>
<blockquote>
<p>5、参数。当函数被调用时，除了声明时定义的形式参数，每个函数还接收两个附加的参数：this对象和arguments列表（注意：由于语言的错误设计，arguments并不是一个真正的数组。）。函数可以通过arguments参数访问所有传递给它的参数列表，这使得编写无须指定参数个数的函数成为可能，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//构造一个将多个数字相加的函数，但不声明参数个数</span>
<span class="token keyword">var</span> <span class="token function-variable function">hsum</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> i<span class="token punctuation">,</span>sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        sum<span class="token operator">+=</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//调用函数并传递10个数字</span>
<span class="token keyword">var</span> hsum_result<span class="token operator">=</span><span class="token function">hsum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>hsum_result<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：55</span></code></pre>
<blockquote>
<blockquote>
<p><mark>无形式参数函数跟函数Apply调用模式有什么区别，以下是我的理解。</mark></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>无形参函数需要传递是必须是参数列表，而不能是数组，如果传入数组会发生什么？参考以下代码：</p>
</blockquote>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//构造一个将多个数字相加的函数，但不声明参数个数</span>
<span class="token keyword">var</span> <span class="token function-variable function">hsum</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> i<span class="token punctuation">,</span>sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        sum<span class="token operator">+=</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//创建一个包含10个数字的数组</span>
<span class="token keyword">var</span> farray<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//调用函数并传递数组</span>
<span class="token keyword">var</span> hsum_result<span class="token operator">=</span><span class="token function">hsum</span><span class="token punctuation">(</span>farray<span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>hsum_result<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：01,2,3,4,5,6,7,8,9,10</span></code></pre>
<blockquote>
<blockquote>
<blockquote>
<p>很明显，数组被当做字符串处理了，函数返回了一个字符串。如果利用函数的Apply方法呢？参考以下代码：</p>
</blockquote>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//构造一个将多个数字相加的函数，但不声明参数个数</span>
<span class="token keyword">var</span> <span class="token function-variable function">hsum</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> i<span class="token punctuation">,</span>sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        sum<span class="token operator">+=</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//创建一个包含10个数字的数组</span>
<span class="token keyword">var</span> farray<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//将参数作为数组传入函数</span>
<span class="token keyword">var</span> hsum_result<span class="token operator">=</span><span class="token function">hsum</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>farray<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>hsum_result<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：55</span></code></pre>
<blockquote>
<blockquote>
<blockquote>
<p>利用函数的Apply方法传递数组进去可以得到正确的返回结果。</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<p>6、返回。一个函数总是会返回一个值，如果没有指定返回值，则返回undefined。如果函数调用时在前面加上new前缀，而且返回值不是一个对象，则返回this（该新对象实例）。</p>
</blockquote>
<blockquote>
<p>7、异常。由于JavaScript语言的弱类型设计方式，会导致函数总是会返回一个值，这样会混淆正确结果与异常结果，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//通过函数字面量创建一个数值相加后倍增的函数。</span>
<span class="token keyword">var</span> <span class="token function-variable function">gadd</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//传入数字</span>
<span class="token keyword">var</span> gadd_result<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：5000</span>

<span class="token comment">//传入字符串</span>
<span class="token keyword">var</span> gadd_result2<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token string">'1000'</span><span class="token punctuation">,</span><span class="token string">'1500'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result2<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：20003000</span>

<span class="token comment">//传入字符串</span>
<span class="token keyword">var</span> gadd_result3<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result3<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：NaN</span>

<span class="token comment">//传入布尔型</span>
<span class="token keyword">var</span> gadd_result4<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result4<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：2</span>

<span class="token comment">//传入null</span>
<span class="token keyword">var</span> gadd_result5<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result5<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：0</span>

<span class="token comment">//传入undefined</span>
<span class="token keyword">var</span> gadd_result6<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result6<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：NaN</span></code></pre>
<blockquote>
<p>以上输出结果可以看出根据传入的实际参数类型，返回结果有很多种，这种灵活性会让程序难以排查潜在的错误，为了避免这种错误需要在代码段中抛出一个异常对象（exception），该对象包含一个name属性和一个message属性，你也可以扩展其他的属性，异常抛出如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//通过函数字面量创建一个数值相加后倍增的函数。</span>
<span class="token keyword">var</span> <span class="token function-variable function">gadd</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//判断实际参数类型，不是数字型抛出异常</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token operator">!==</span><span class="token string">'number'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> b<span class="token operator">!==</span><span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span><span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'TypeError'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">message</span><span class="token operator">:</span><span class="token string">'gad parameters need numbers.'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//传入数字</span>
<span class="token keyword">var</span> gadd_result<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：5000</span>

<span class="token comment">//传入字符串</span>
<span class="token keyword">var</span> gadd_result2<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token string">'1000'</span><span class="token punctuation">,</span><span class="token string">'1500'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result2<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//控制台输出：Uncaught {name: 'TypeError', message: 'gad parameters need numbers.'}</span>
<span class="token comment">//由于传入的实际参数不是数字类型导致异常抛出，程序中断执行，以下代码均无法被执行。</span>

<span class="token comment">//传入字符串</span>
<span class="token keyword">var</span> gadd_result3<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result3<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//程序已经中断，代码均无法被执行。</span>

<span class="token comment">//传入布尔型</span>
<span class="token keyword">var</span> gadd_result4<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result4<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//程序已经中断，代码法被执行。</span>

<span class="token comment">//传入null</span>
<span class="token keyword">var</span> gadd_result5<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result5<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//程序已经中断，代码无法被执行。</span>

<span class="token comment">//传入undefined</span>
<span class="token keyword">var</span> gadd_result6<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result6<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//程序已经中断，代码无法被执行。</span></code></pre>
<blockquote>
<blockquote>
<p>为了避免程序中断，可以添加try-catch代码块来接收异常。一个try语句只会有一个捕获所有异常的catch代码块，如果你的处理手段取决于异常的类型，那么异常处理器必须检查异常对象的name属性来确定异常的类型，如下例：</p>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//构造一个try函数，接收可能出现的异常对象</span>
<span class="token keyword">var</span> <span class="token function-variable function">try_gadd</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token comment">//传入数字</span>
        <span class="token keyword">var</span> gadd_result<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token comment">//传入字符串</span>
        <span class="token keyword">var</span> gadd_result2<span class="token operator">=</span><span class="token function">gadd</span><span class="token punctuation">(</span><span class="token string">'1000'</span><span class="token punctuation">,</span><span class="token string">'1500'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将会触发异常，程序跳转到catch代码块。</span>
        document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>gadd_result2<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">"&gt;"</span><span class="token operator">+</span>ex<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//执行try函数</span>
<span class="token function">try_gadd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：5000</span>
<span class="token comment">//输出：TypeError&gt;gad parameters need numbers.</span>
<span class="token comment">//try-catch代码块来接收异常可以避免程序中断，接收到的异常信息也可以用多种方式显示出来。</span></code></pre>
<blockquote>
<p>7、扩充。通过Object.prototype添加方法，可以让该方法对所有对象都可用，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//通过给Number.prototype增加一个integer方法，根据数字的正负来判断使用Math.ceiling还是Math.floor。</span>
<span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">integer</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">?</span><span class="token string">'ceil'</span><span class="token operator">:</span><span class="token string">'floor'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> jnumber<span class="token operator">=</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>jnumber<span class="token operator">+</span><span class="token string">"&gt;"</span><span class="token operator">+</span>jnumber<span class="token punctuation">.</span><span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：-3.3333333333333335&gt;-3</span>

<span class="token keyword">var</span> jnumber<span class="token operator">=</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>jnumber<span class="token operator">+</span><span class="token string">"&gt;"</span><span class="token operator">+</span>jnumber<span class="token punctuation">.</span><span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：3.3333333333333335&gt;3</span></code></pre>
<blockquote>
<p>由于基本类型的原型是公共结构，在扩充时务必小心，保险的用法是在添加前判断一下，将上述代码修改如下：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//判断Number对象是否存在integer方法，没有则添加一个，如果有则打印出函数。</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>integer<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//通过给Number.prototype增加一个integer方法，根据数字的正负来判断使用Math.ceiling还是Math.floor。</span>
    <span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">integer</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">?</span><span class="token string">'ceil'</span><span class="token operator">:</span><span class="token string">'floor'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>integer<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">//如果之前定义过，则输出：</span>
    <span class="token comment">//function () {</span>
    <span class="token comment">//      return Math[this&lt;0?'ceil':'floor'](this);</span>
    <span class="token comment">//}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> jnumber<span class="token operator">=</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>jnumber<span class="token operator">+</span><span class="token string">"&gt;"</span><span class="token operator">+</span>jnumber<span class="token punctuation">.</span><span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：-3.3333333333333335&gt;-3</span>

<span class="token keyword">var</span> jnumber<span class="token operator">=</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>jnumber<span class="token operator">+</span><span class="token string">"&gt;"</span><span class="token operator">+</span>jnumber<span class="token punctuation">.</span><span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：3.3333333333333335&gt;3</span></code></pre>
<blockquote>
<p>8、递归。递归函数是直接或间接地调用自身的一种函数，例如：</p>
</blockquote>
<blockquote>
<blockquote>
<p>8.1、阶乘</p>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> <span class="token function-variable function">factorial</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> sum<span class="token operator">=</span>num<span class="token operator">*</span><span class="token function">factorial</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">;</span>

<span class="token keyword">var</span> knum<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ksum<span class="token operator">=</span><span class="token function">factorial</span><span class="token punctuation">(</span>knum<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>knum<span class="token operator">+</span><span class="token string">"!="</span><span class="token operator">+</span>ksum<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：20!=2432902008176640000</span></code></pre>
<blockquote>
<blockquote>
<p>8.2、斐波那契数列</p>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> <span class="token function-variable function">fibonacci</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> sum<span class="token operator">=</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> lnum<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lsum<span class="token operator">=</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>lnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"Fibonacci "</span><span class="token operator">+</span>lnum<span class="token operator">+</span><span class="token string">" Months="</span><span class="token operator">+</span>lsum<span class="token operator">+</span><span class="token string">' rabbits.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：Fibonacci 12 Months=233 rabbits. </span></code></pre>
<blockquote>
<blockquote>
<p>8.3、汉诺塔</p>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">////汉诺塔,num：盘子数量，s：原始位置，a：复制位置,t：目标位置</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>hanoinum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">hanoi</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span>s<span class="token punctuation">,</span>a<span class="token punctuation">,</span>t</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">hanoi</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>s<span class="token punctuation">,</span>t<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>hanoinum<span class="token operator">++</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hanoinum<span class="token operator">+</span><span class="token string">". P"</span><span class="token operator">+</span>num<span class="token operator">+</span><span class="token string">' '</span><span class="token operator">+</span>s<span class="token operator">+</span><span class="token string">'-&gt;'</span><span class="token operator">+</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token function">hanoi</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>s<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">hanoi</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'S'</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'T'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：</span>
<span class="token comment">//1. P1 S-&gt;T</span>
<span class="token comment">//2. P2 S-&gt;A</span>
<span class="token comment">//3. P1 T-&gt;A</span>
<span class="token comment">//4. P3 S-&gt;T</span>
<span class="token comment">//5. P1 A-&gt;S</span>
<span class="token comment">//6. P2 A-&gt;T</span>
<span class="token comment">//7. P1 S-&gt;T</span></code></pre>
<blockquote>
<blockquote>
<p>8.4、操作文档对象模型（DOM）</p>
</blockquote>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//用传入的函数遍历传入的节点</span>
<span class="token keyword">var</span> <span class="token function-variable function">walkdom</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span>func</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//首先遍历指定节点</span>
    <span class="token function">func</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获取节点的第一个子节点，并遍历相邻节点</span>
    node<span class="token operator">=</span>node<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">walkdom</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>
        node<span class="token operator">=</span>node<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//根据属性名称和匹配值查找要素</span>
<span class="token keyword">var</span> <span class="token function-variable function">getelements</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">att<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> results<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> <span class="token function-variable function">func</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>nodeName<span class="token operator">===</span>att <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">walkdom</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> results<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> elements<span class="token operator">=</span><span class="token function">getelements</span><span class="token punctuation">(</span><span class="token string">"#text"</span><span class="token punctuation">,</span><span class="token string">"WORLD ZHUXIN."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span>elements<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：</span>
<span class="token comment">//WORLD ZHUXIN.,</span>
<span class="token comment">//WORLD ZHUXIN.</span></code></pre>
<blockquote>
<p>9、作用域。变量在函数内声明，变量为局部变量，具有局部作用域。局部变量在函数开始执行时创建，函数执行完后局部变量会自动销毁。如果变量在函数内没有声明（没有使用 var 关键字），该变量为全局变量。全局和局部变量即便名称相同，它们也是两个不同的变量。
JavaScript的代码块语法貌似支持块级作用域，但实际上它并不支持，但支持函数作用域，在函数内任何位置定义的变量，在函数内部任何位置都可见。。如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> <span class="token function-variable function">mfoo</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">mbar</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> b<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>c<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">;</span>
        a<span class="token operator">+=</span>b<span class="token operator">+</span>c<span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"mbar: a="</span><span class="token operator">+</span>a<span class="token operator">+</span><span class="token string">'，b='</span><span class="token operator">+</span>b<span class="token operator">+</span><span class="token string">'，c='</span><span class="token operator">+</span>c<span class="token operator">+</span><span class="token string">'&lt;/br&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"mfoo: a="</span><span class="token operator">+</span>a<span class="token operator">+</span><span class="token string">'，b='</span><span class="token operator">+</span>b<span class="token operator">+</span><span class="token string">'&lt;/br&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token function">mbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"mbar-&gt;mfoo: a="</span><span class="token operator">+</span>a<span class="token operator">+</span><span class="token string">'，b='</span><span class="token operator">+</span>b<span class="token operator">+</span><span class="token string">'&lt;/br&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">mfoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：</span>
<span class="token comment">//mfoo: a=1，b=3</span>
<span class="token comment">//mbar: a=13，b=5，c=7</span>
<span class="token comment">//mbar-&gt;mfoo: a=13，b=3</span></code></pre>
<blockquote>
<p>下面是典型的界面点击按钮弹出对话框代码，但无法达到设计的目的（参见闭包中正确的方法）：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">function</span> <span class="token function">nhandlers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> node<span class="token operator">=</span>elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> ele<span class="token operator">=</span>node<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span>
        ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor<span class="token operator">=</span><span class="token string">'#FFAABB'</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> kk<span class="token operator">=</span>node<span class="token punctuation">.</span>data<span class="token operator">+</span><span class="token string">"-&gt;"</span><span class="token operator">+</span>i<span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;nhandlers："</span><span class="token operator">+</span>kk<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        ele<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>kk<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;End i="</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">',node='</span><span class="token operator">+</span>kk<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token function">nhandlers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//点击对象会发现弹出对话框的信息跟打印的信息不一致。</span>
<span class="token comment">//无论点击那个对象弹出对话框的信息都是最后一个对象的。</span>
<span class="token comment">//这是因为局部变量一直被更新，即使跳出循环，局部变量依然可以访问，当循环结束，弹出对话框使用的i,kk变量值都是最后生成的那个。</span></code></pre>
<blockquote>
<p>10、闭包。一般函数执行完，其内部的局部变量都会被销毁，采用闭包（closure）函数其内部的局部变量不会被销毁，后续对象可以访问它被创建时所处的上下文环境。
闭包的作用是:通过一系方法,将函数内部的变量(局部变量)转化为全局变量,参见以下示例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> <span class="token function-variable function">pobject</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> pvalue<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span><span class="token punctuation">{</span>
        <span class="token function-variable function">increment</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inc</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            pvalue<span class="token operator">+=</span>inc<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">getvalue</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> pvalue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

pobject<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;"</span><span class="token operator">+</span>pobject<span class="token punctuation">.</span><span class="token function">getvalue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>pobject<span class="token punctuation">.</span>pvalue<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：100,undefined</span></code></pre>
<blockquote>
<p>通过调用对象的方法达到访问函数内部局部变量的目的，下面是我们更为熟悉的写法：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> <span class="token function-variable function">pobject_func</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> pvalue<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function-variable function">increment</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inc</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        pvalue<span class="token operator">+=</span>inc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function-variable function">getvalue</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> pvalue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">{</span>
        increment<span class="token punctuation">,</span>getvalue
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//不需要new就可以创建一个实例。</span>
<span class="token keyword">var</span> pobject<span class="token operator">=</span><span class="token function">pobject_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pobject<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt; pobject.increment="</span><span class="token operator">+</span>pobject<span class="token punctuation">.</span><span class="token function">getvalue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>pobject<span class="token punctuation">.</span>pvalue<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：pobject.increment=1000,undefined</span>

<span class="token comment">//实例中的属性被记录，而且不能被外部函数访问，达到私有目的。</span>
pobject<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt; pobject.increment="</span><span class="token operator">+</span>pobject<span class="token punctuation">.</span><span class="token function">getvalue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>pobject<span class="token punctuation">.</span>pvalue<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：pobject.increment=2000,undefined</span>

<span class="token comment">//再次创建一个实例。</span>
<span class="token keyword">var</span> pobject2<span class="token operator">=</span><span class="token function">pobject_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pobject2<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt; pobject2.increment="</span><span class="token operator">+</span>pobject2<span class="token punctuation">.</span><span class="token function">getvalue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>pobject2<span class="token punctuation">.</span>pvalue<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：pobject2.increment=1000,undefined</span></code></pre>
<blockquote>
<p>下面是正确的点击按钮弹出对话框代码：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">function</span> <span class="token function">phandlers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token function-variable function">helper</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">kk</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> <span class="token function-variable function">func</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>kk<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> func<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> node<span class="token operator">=</span>elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> ele<span class="token operator">=</span>node<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span>
        ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor<span class="token operator">=</span><span class="token string">'#FFAABB'</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> kk<span class="token operator">=</span>node<span class="token punctuation">.</span>data<span class="token operator">+</span><span class="token string">"-&gt;"</span><span class="token operator">+</span>i<span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;phandlers"</span><span class="token operator">+</span>kk<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        ele<span class="token punctuation">.</span>onclick<span class="token operator">=</span><span class="token function">helper</span><span class="token punctuation">(</span>kk<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;End i="</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">',node='</span><span class="token operator">+</span>kk<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token function">phandlers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//采用闭包后，点击对象会发现弹出对话框的信息跟打印的信息一致，这是因为传入函数的参数变成了局部变量，不再被外部函数所修改。</span></code></pre>
<blockquote>
<p>11、回调。多用于防止界面阻塞的异步请求函数,将函数作为参数传递给请求方法。</p>
</blockquote>
<blockquote>
<p>12、模块。模块是一个提供接口却隐藏状态与实现的函数或对象。通过使用函数产生的模块，可以摒弃全局变量的使用。模块模式的一般形式是：一个定义了私有变量和函数的函数；利用闭包创建可以访问私有变量和函数的特权函数，最后返回这个特权函数，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//给String类型扩展一个deentityify方法,将转义字符转换</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">deentityify</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">//在函数内部声明了entity映射表，确保外界无法访问，避免污染</span>
    <span class="token keyword">var</span> entity <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">quot</span><span class="token operator">:</span> <span class="token string">'"'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">amp</span><span class="token operator">:</span> <span class="token string">'&amp;'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lt</span><span class="token operator">:</span><span class="token string">'&lt;'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">gt</span><span class="token operator">:</span><span class="token string">'&gt;'</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;([^&amp;;]+);</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> r <span class="token operator">=</span> entity<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">typeof</span> r <span class="token operator">===</span><span class="token string">'string'</span> <span class="token operator">?</span> r <span class="token operator">:</span> a<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> rtxt<span class="token operator">=</span><span class="token string">'&lt;p&gt;"a&amp;b"&lt;/p&gt;'</span><span class="token punctuation">;</span>    <span class="token comment">//&lt;p&gt;"a&amp;b"&lt;/p&gt;</span>
<span class="token keyword">var</span> rtxt2<span class="token operator">=</span>rtxt<span class="token punctuation">.</span><span class="token function">deentityify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;&lt;xmp&gt;deentityify rtxt="</span><span class="token operator">+</span>rtxt<span class="token operator">+</span><span class="token string">' -&gt; '</span><span class="token operator">+</span>rtxt2<span class="token operator">+</span><span class="token string">'&lt;/xmp&gt;&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：deentityify rtxt=&lt;p&gt;"a&amp;b"&lt;/p&gt; -&gt; &lt;p&gt;"a&amp;b"&lt;/p&gt;</span></code></pre>
<blockquote>
<p>注意：由于转移字符的原因以上代码rtxt应为<code>&lt;code&gt;var rtxt='&amp;lt;p&amp;gt;&amp;quot;a&amp;amp;b&amp;quot;&amp;lt;/p&amp;gt;';//&lt;p&gt;"a&amp;b"&lt;/p&gt;&lt;/code&gt;</code>。</p>
</blockquote>
<blockquote>
<p>更常见的代码风格如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//构造一个生成序列号的对象</span>
<span class="token keyword">function</span> <span class="token function">Serialmaker</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> prefix<span class="token operator">=</span>s<span class="token operator">||</span><span class="token string">'A'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> seq<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span><span class="token punctuation">{</span>
        <span class="token function-variable function">setprefix</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            prefix<span class="token operator">=</span>p<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">setseq</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            seq<span class="token operator">=</span>s<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">gensym</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">var</span> result<span class="token operator">=</span>prefix<span class="token operator">+</span>seq<span class="token punctuation">;</span>
            seq<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">serialmaker_test</span><span class="token punctuation">(</span><span class="token parameter">serial</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> unique<span class="token operator">=</span>serial<span class="token punctuation">.</span><span class="token function">gensym</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;serialmaker_test unique="</span><span class="token operator">+</span>unique<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> serialmaker<span class="token operator">=</span><span class="token function">Serialmaker</span><span class="token punctuation">(</span><span class="token string">'MZ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">serialmaker_test</span><span class="token punctuation">(</span>serialmaker<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：</span>
<span class="token comment">//serialmaker_test unique=MZ0</span>
<span class="token comment">//serialmaker_test unique=MZ1</span>
<span class="token comment">//serialmaker_test unique=MZ2</span>

serialmaker<span class="token punctuation">.</span><span class="token function">setprefix</span><span class="token punctuation">(</span><span class="token string">'NY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
serialmaker<span class="token punctuation">.</span><span class="token function">setseq</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">serialmaker_test</span><span class="token punctuation">(</span>serialmaker<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：</span>
<span class="token comment">//serialmaker_test unique=NY1000</span>
<span class="token comment">//serialmaker_test unique=NY1001</span>
<span class="token comment">//serialmaker_test unique=NY1002</span>

serialmaker<span class="token punctuation">.</span><span class="token function">setprefix</span><span class="token punctuation">(</span><span class="token string">'MZ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">serialmaker_test</span><span class="token punctuation">(</span>serialmaker<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：</span>
<span class="token comment">//serialmaker_test unique=MZ1003</span>
<span class="token comment">//serialmaker_test unique=MZ1004</span>
<span class="token comment">//serialmaker_test unique=MZ1005</span></code></pre>
<blockquote>
<p>13、级联。一些方法没有返回值，我们让这些方法返回this而不是undefined，就可以启用级联。例如一个启用级联的DOM对象可以用以下形式去编码：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token function">getElement</span><span class="token punctuation">(</span><span class="token string">'eleID'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<blockquote>
<p>14、局部套用，也称柯里化，以数学家Haskell Curry(哈斯克尔·柯里)命名。柯里化允许把函数与传递给它的参数相结合，产生一个新的函数，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">function</span> <span class="token function">gadd</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//判断实际参数类型，不是数字型抛出异常</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token operator">!==</span><span class="token string">'number'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> b<span class="token operator">!==</span><span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span><span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'TypeError'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">message</span><span class="token operator">:</span><span class="token string">'gad parameters need numbers.'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">radd</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

radd<span class="token punctuation">.</span><span class="token function-variable function">append</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//参数列表不是真正的数组，无法使用concat方法，使用slice将参数列表转换为数组。</span>
    <span class="token keyword">var</span> slice<span class="token operator">=</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">;</span>
    <span class="token keyword">var</span> that<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> args<span class="token operator">=</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> <span class="token function-variable function">func</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> args_append<span class="token operator">=</span>args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">that</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>args_append<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> func<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> radd_append<span class="token operator">=</span>radd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;radd_append="</span><span class="token operator">+</span><span class="token function">radd_append</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：radd_append=28</span>
</code></pre>
<blockquote>
<p>15、记忆，函数可以将先前操作的结果记录在某个对象里，从而避免无谓的重复计算。例如通常的菲波那切数列函数如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//记录函数调用次数</span>
<span class="token keyword">var</span> l_count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">fibonacci</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    l_count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> num<span class="token punctuation">;</span>
    <span class="token keyword">var</span> sum<span class="token operator">=</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> lnum<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lsum<span class="token operator">=</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>lnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;Fibonacci "</span><span class="token operator">+</span>lnum<span class="token operator">+</span><span class="token string">" Months="</span><span class="token operator">+</span>lsum<span class="token operator">+</span><span class="token string">' rabbits,Invocation '</span><span class="token operator">+</span>l_count<span class="token operator">+</span><span class="token string">'.&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：Fibonacci 12 Months=144 rabbits,Invocation 465.</span></code></pre>
<blockquote>
<p>计算12个月的兔子数量，函数被调用了465次，如果我们需要计算从1到12月的，需要添加循环，代码如下：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//记录函数调用次数</span>
<span class="token keyword">var</span> l_count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">fibonacci</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    l_count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> num<span class="token punctuation">;</span>
    <span class="token keyword">var</span> sum<span class="token operator">=</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">12</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> lsum<span class="token operator">=</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;Fibonacci "</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">" Months="</span><span class="token operator">+</span>lsum<span class="token operator">+</span><span class="token string">' rabbits,Invocation '</span><span class="token operator">+</span>l_count<span class="token operator">+</span><span class="token string">'.&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：</span>
<span class="token comment">//Fibonacci 1 Months=1 rabbits,Invocation 1.</span>
<span class="token comment">//Fibonacci 2 Months=1 rabbits,Invocation 4.</span>
<span class="token comment">//Fibonacci 3 Months=2 rabbits,Invocation 9.</span>
<span class="token comment">//Fibonacci 4 Months=3 rabbits,Invocation 18.</span>
<span class="token comment">//Fibonacci 5 Months=5 rabbits,Invocation 33.</span>
<span class="token comment">//Fibonacci 6 Months=8 rabbits,Invocation 58.</span>
<span class="token comment">//Fibonacci 7 Months=13 rabbits,Invocation 99.</span>
<span class="token comment">//Fibonacci 8 Months=21 rabbits,Invocation 166.</span>
<span class="token comment">//Fibonacci 9 Months=34 rabbits,Invocation 275.</span>
<span class="token comment">//Fibonacci 10 Months=55 rabbits,Invocation 452.</span>
<span class="token comment">//Fibonacci 11 Months=89 rabbits,Invocation 739.</span>
<span class="token comment">//Fibonacci 12 Months=144 rabbits,Invocation 1204.</span></code></pre>
<blockquote>
<p>从以上输出结果可以看得出循环体内主动调用函数12次，但函数被递归一共调用了1204次，其中1192次去调用刚刚被计算过的数值，如果我们让该函数具备记忆功能，就可以显著地减少运算量。具有记忆功能的代码如下：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//记录函数调用次数</span>
<span class="token keyword">var</span> l_count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">Mfibonacci</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> memo<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">fibonacci</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        l_count<span class="token operator">++</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> sum<span class="token operator">=</span>memo<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> sum <span class="token operator">!==</span><span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> num<span class="token punctuation">;</span>
            sum<span class="token operator">=</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">fibonacci</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            memo<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token operator">=</span>sum<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> fibonacci<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> lnum<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lsum<span class="token operator">=</span><span class="token function">Mfibonacci</span><span class="token punctuation">(</span>lnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;Mfibonacci "</span><span class="token operator">+</span>lnum<span class="token operator">+</span><span class="token string">" Months="</span><span class="token operator">+</span>lsum<span class="token operator">+</span><span class="token string">' rabbits,Invocation '</span><span class="token operator">+</span>l_count<span class="token operator">+</span><span class="token string">'.&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：Mfibonacci 12 Months=144 rabbits,Invocation 23.</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">12</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> lsum<span class="token operator">=</span><span class="token function">Mfibonacci</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;Mfibonacci "</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">" Months="</span><span class="token operator">+</span>lsum<span class="token operator">+</span><span class="token string">' rabbits,Invocation '</span><span class="token operator">+</span>l_count<span class="token operator">+</span><span class="token string">'.&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：</span>
<span class="token comment">//Mfibonacci 1 Months=1 rabbits,Invocation 24.</span>
<span class="token comment">//Mfibonacci 2 Months=1 rabbits,Invocation 25.</span>
<span class="token comment">//Mfibonacci 3 Months=2 rabbits,Invocation 26.</span>
<span class="token comment">//Mfibonacci 4 Months=3 rabbits,Invocation 27.</span>
<span class="token comment">//Mfibonacci 5 Months=5 rabbits,Invocation 28.</span>
<span class="token comment">//Mfibonacci 6 Months=8 rabbits,Invocation 29.</span>
<span class="token comment">//Mfibonacci 7 Months=13 rabbits,Invocation 30.</span>
<span class="token comment">//Mfibonacci 8 Months=21 rabbits,Invocation 31.</span>
<span class="token comment">//Mfibonacci 9 Months=34 rabbits,Invocation 32.</span>
<span class="token comment">//Mfibonacci 10 Months=55 rabbits,Invocation 33.</span>
<span class="token comment">//Mfibonacci 11 Months=89 rabbits,Invocation 34.</span>
<span class="token comment">//Mfibonacci 12 Months=144 rabbits,Invocation 35.</span></code></pre>
<blockquote>
<p>从以上输出结果可以看得出改造后的代码将1204次运算降低到35次，显著地减少了运算量。实际上在计算机领域，记忆（memoization）是主要用于加速程序计算的一种优化技术。</p>
</blockquote>
<h2 class="atx" id="05、继承">05、继承</h2>
<p><em>人的一生是短暂的，但如卑劣地过这一生，那就太长了。</em></p>
<blockquote>
<p>1、对象说明符。如果构造器需要接受一大串参数，可能令人烦恼，因为要记住参数的顺序非常困难，这种情况下可以使用简单的对象说明符，写法如下：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">function</span> <span class="token function">MSerialmaker</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token literal-property property">prefix</span><span class="token operator">:</span>s<span class="token punctuation">,</span><span class="token literal-property property">seq</span><span class="token operator">:</span>q<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//原有s,q参数不容易阅读，而且顺序必须保持一致。</span>
    <span class="token keyword">var</span> prefix<span class="token operator">=</span>s<span class="token operator">||</span><span class="token string">'A'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> seq<span class="token operator">=</span>q<span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span><span class="token punctuation">{</span>
        <span class="token function-variable function">setprefix</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            prefix<span class="token operator">=</span>p<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">setseq</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            seq<span class="token operator">=</span>s<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">gensym</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">var</span> result<span class="token operator">=</span>prefix<span class="token operator">+</span>seq<span class="token punctuation">;</span>
            seq<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> mserialmaker<span class="token operator">=</span><span class="token function">MSerialmaker</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">seq</span><span class="token operator">:</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token literal-property property">prefix</span><span class="token operator">:</span><span class="token string">'TE'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//参数顺序可以任意排列。</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;MSerialmaker="</span><span class="token operator">+</span>mserialmaker<span class="token punctuation">.</span><span class="token function">gensym</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：MSerialmaker=TE1000</span></code></pre>
<blockquote>
<p>采用对象说明符后参数可以按照任意顺序排列，一些参数可以忽略掉，代码也容易阅读。</p>
</blockquote>
<blockquote>
<p>2、JavaScript是一门弱类型语言，从不需要类型转换，对象继承关系变得无关紧要。某些复杂的语法看起来就像那些基于类的语言，其实都是伪类，这些复杂的语法试图掩盖JavaScript的原型机制，例如通过构造器函数产生对象可以继承设定好的已有属性，如以下构造的伪类：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//定义一个构造器（例如动物）</span>
<span class="token keyword">var</span> <span class="token function-variable function">Animal</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getname</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">gettype</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token operator">||</span><span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getsound</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sound<span class="token operator">||</span><span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//构造一个实例（例如狗）</span>
<span class="token keyword">var</span> dog<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Dog.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dog<span class="token punctuation">.</span>sound<span class="token operator">=</span><span class="token string">'Wang~'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;dog="</span><span class="token operator">+</span>dog<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>dog<span class="token punctuation">.</span><span class="token function">gettype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>dog<span class="token punctuation">.</span><span class="token function">getsound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：dog=Dog.,,Wang~</span>

<span class="token comment">//构造一个伪类来继承Animal(例如哺乳动物)</span>
<span class="token keyword">var</span> <span class="token function-variable function">Mammal</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token operator">=</span><span class="token string">'Mammal'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//替换prototype为一个新的Animal实例</span>
<span class="token class-name">Mammal</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//扩充原型方法，增加获取哺乳动物颜色方法</span>
<span class="token class-name">Mammal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getcolor</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token operator">||</span><span class="token string">'Black'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//覆盖原来方法</span>
<span class="token class-name">Mammal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getname</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getcolor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">' '</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Mammal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getsound</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sound<span class="token operator">||</span><span class="token string">'Miao~'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//构造一个实例（例如猫）</span>
<span class="token keyword">var</span> cat<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Mammal</span><span class="token punctuation">(</span><span class="token string">'Cat.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cat<span class="token punctuation">.</span>sound<span class="token operator">=</span><span class="token string">'Miao~'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;cat="</span><span class="token operator">+</span>cat<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>cat<span class="token punctuation">.</span><span class="token function">gettype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>cat<span class="token punctuation">.</span><span class="token function">getsound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：cat=Black Cat.,Mammal,Miao~</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;cat value="</span><span class="token operator">+</span>cat<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>cat<span class="token punctuation">.</span>type<span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>cat<span class="token punctuation">.</span>sound<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：cat=Black Cat.,Mammal,Miao~</span></code></pre>
<blockquote>
<p>3、函数化，通过构造器继承模式的一个弱点是无法保护隐私，所有属性都是可见的，为了保护私有变量和私有函数，我们可以采用应用模块模式，Animal例子可以修改为以下模式：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//定义一个函数（例如动物）</span>
<span class="token keyword">var</span> <span class="token function-variable function">animal</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">spec</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//创建一个对象</span>
    <span class="token keyword">var</span> that<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    that<span class="token punctuation">.</span><span class="token function-variable function">getname</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> spec<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    that<span class="token punctuation">.</span><span class="token function-variable function">gettype</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> spec<span class="token punctuation">.</span>type<span class="token operator">||</span><span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    that<span class="token punctuation">.</span><span class="token function-variable function">getsound</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> spec<span class="token punctuation">.</span>sound<span class="token operator">||</span><span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> that<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> dog<span class="token operator">=</span><span class="token function">animal</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'Dog.'</span><span class="token punctuation">,</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'Mammal'</span><span class="token punctuation">,</span><span class="token literal-property property">sound</span><span class="token operator">:</span><span class="token string">'Wang~'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;dog="</span><span class="token operator">+</span>dog<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>dog<span class="token punctuation">.</span><span class="token function">gettype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>dog<span class="token punctuation">.</span><span class="token function">getsound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：dog=Dog.,Mammal,Wang~</span>

<span class="token comment">//定义一个另函数(例如哺乳动物)</span>
<span class="token keyword">var</span> <span class="token function-variable function">mammal</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">spec</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    spec<span class="token punctuation">.</span>sound<span class="token operator">=</span><span class="token string">'Miao~'</span><span class="token punctuation">;</span>
    spec<span class="token punctuation">.</span>type<span class="token operator">=</span><span class="token string">'Mammal'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> that<span class="token operator">=</span><span class="token function">animal</span><span class="token punctuation">(</span>spec<span class="token punctuation">)</span><span class="token punctuation">;</span>

    that<span class="token punctuation">.</span><span class="token function-variable function">getcolor</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> that<span class="token punctuation">.</span>color<span class="token operator">||</span><span class="token string">'Black'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    that<span class="token punctuation">.</span><span class="token function-variable function">getname</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> that<span class="token punctuation">.</span><span class="token function">getcolor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">' '</span><span class="token operator">+</span>spec<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> that<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cat<span class="token operator">=</span><span class="token function">mammal</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'Cat.'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;cat="</span><span class="token operator">+</span>cat<span class="token punctuation">.</span><span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>cat<span class="token punctuation">.</span><span class="token function">gettype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>cat<span class="token punctuation">.</span><span class="token function">getsound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：cat=Black Cat.,Mammal,Miao~</span>

document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;cat="</span><span class="token operator">+</span>cat<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>cat<span class="token punctuation">.</span>type<span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span>cat<span class="token punctuation">.</span>sound<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：cat=undefined,undefined,undefined</span></code></pre>
<blockquote>
<p>4、部件，一个构造器函数可以从一套部件中把对象组装起来（类似于过程函数），例如，我们可以构造一个给任何对象添加事件处理的函数，给对象添加一个on方法、一个fire方法和一个私有的事件注册表对象：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">///给对象添加事件处理特性的函数</span>
<span class="token keyword">var</span> <span class="token function-variable function">eventuality</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//注册一个事件。</span>
    <span class="token comment">//构造一条处理程序条目，将它插入到处理程序数组中，如果这种类型的事件不存在就构造一个。</span>
    obj<span class="token punctuation">.</span><span class="token function-variable function">on</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span>method<span class="token punctuation">,</span>parameters</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>obj<span class="token punctuation">.</span>registry<span class="token punctuation">)</span><span class="token punctuation">{</span>
            obj<span class="token punctuation">.</span>registry<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> registry<span class="token operator">=</span>obj<span class="token punctuation">.</span>registry<span class="token punctuation">;</span>
        <span class="token keyword">var</span> handler<span class="token operator">=</span><span class="token punctuation">{</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span>method<span class="token punctuation">,</span>        <span class="token comment">//事件处理函数</span>
            <span class="token literal-property property">parameters</span><span class="token operator">:</span>parameters    <span class="token comment">//函数参数数组</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token comment">//每种类型的事件都是一个事件数组，以type作为属性名称。</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>registry<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            registry<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            registry<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span>handler<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//触发一个事件</span>
    obj<span class="token punctuation">.</span><span class="token function-variable function">fire</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> registry<span class="token operator">=</span>obj<span class="token punctuation">.</span>registry<span class="token punctuation">;</span>
        <span class="token keyword">var</span> type<span class="token operator">=</span><span class="token keyword">typeof</span> event<span class="token operator">===</span><span class="token string">'string'</span><span class="token operator">?</span>event<span class="token operator">:</span>event<span class="token punctuation">.</span>type<span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>registry<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">var</span> handlers<span class="token operator">=</span>registry<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>handlers<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">var</span> handler<span class="token operator">=</span>handlers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> func<span class="token operator">=</span>handler<span class="token punctuation">.</span>method<span class="token punctuation">;</span>
                <span class="token keyword">var</span> parameters<span class="token operator">=</span>handler<span class="token punctuation">.</span>parameters<span class="token punctuation">;</span>

                <span class="token comment">//调用处理程序，如果该条目包含参数，就传递参数，否则传递事件对象。</span>
                <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>parameters<span class="token operator">||</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//事件函数</span>
<span class="token keyword">var</span> <span class="token function-variable function">handler</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">kk</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>kk<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//处理界面元素</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> node<span class="token operator">=</span>elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> ele<span class="token operator">=</span>node<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span>
    ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor<span class="token operator">=</span><span class="token string">'#EECCAA'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> kk<span class="token operator">=</span><span class="token string">"eventuality-&gt;"</span><span class="token operator">+</span>node<span class="token punctuation">.</span>data<span class="token operator">+</span><span class="token string">"-&gt;"</span><span class="token operator">+</span>i<span class="token punctuation">;</span>

    <span class="token comment">//为元素注册函数</span>
    <span class="token function">eventuality</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span>handler<span class="token punctuation">,</span><span class="token punctuation">[</span>kk<span class="token punctuation">]</span><span class="token punctuation">)</span>

   <span class="token comment">//为元素添加点击事件处理函数</span>
    ele<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="06、数组">06、数组</h2>
<p><em>简洁是智慧的灵魂，冗长是肤浅的藻饰。</em></p>
<blockquote>
<p>1、在大多数语言中，一个数组的所有元素都要求是相同的类型。JavaScript运行数组包含任意混合类型的值，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> misz<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'string'</span><span class="token punctuation">,</span><span class="token number">26.8</span><span class="token punctuation">,</span><span class="token boolean">true</span> <span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token number">NaN</span><span class="token punctuation">,</span><span class="token number">Infinity</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'dog'</span><span class="token punctuation">,</span><span class="token string">'cat'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'selena'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
misz<span class="token punctuation">.</span>length    <span class="token comment">//9</span>
misz<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>        <span class="token comment">//26.8</span>
misz<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span>       <span class="token comment">//undefined</span></code></pre>
<blockquote>
<p>JavaScript中数组其实就是对象，没有好的机制来区分数组和对象，我们可以定义自己的一个函数来区分一个对象是否是数组：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> <span class="token function-variable function">isarray</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token operator">===</span><span class="token string">'[object Array]'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<blockquote>
<p>2、每个数组都有一个length值，它不一定等于数组里属性的个数，可以设置length的值，如下：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> numbers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'zero'</span><span class="token punctuation">,</span><span class="token string">'one'</span><span class="token punctuation">,</span><span class="token string">'two'</span><span class="token punctuation">,</span><span class="token string">'three'</span><span class="token punctuation">,</span><span class="token string">'four'</span><span class="token punctuation">,</span><span class="token string">'five'</span><span class="token punctuation">,</span><span class="token string">'six'</span><span class="token punctuation">,</span><span class="token string">'server'</span><span class="token punctuation">,</span><span class="token string">'eight'</span><span class="token punctuation">,</span><span class="token string">'nine'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span>length；    <span class="token comment">//10</span>

numbers<span class="token punctuation">[</span>numbers<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'ten'</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'eleven'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//numbers[numbers.length]与numbers.push()都可以添加一个新元素到数组尾部。</span>

numbers<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span>length；    <span class="token comment">//101</span>
<span class="token comment">//此时数组长度101，但只包含12个属性。</span>

numbers<span class="token punctuation">.</span>length<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//zero,one,two,three,four</span>
<span class="token comment">//设置length属性会将下标后面的属性删除。</span></code></pre>
<blockquote>
<p>3、删除。可以使用delete运算符删除数组中的元素，但会在数组中留下空洞，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> numbers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'zero'</span><span class="token punctuation">,</span><span class="token string">'one'</span><span class="token punctuation">,</span><span class="token string">'two'</span><span class="token punctuation">,</span><span class="token string">'three'</span><span class="token punctuation">,</span><span class="token string">'four'</span><span class="token punctuation">,</span><span class="token string">'five'</span><span class="token punctuation">,</span><span class="token string">'six'</span><span class="token punctuation">,</span><span class="token string">'server'</span><span class="token punctuation">,</span><span class="token string">'eight'</span><span class="token punctuation">,</span><span class="token string">'nine'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> numbers<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> numbers<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;array:"</span><span class="token operator">+</span>numbers<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：zero,one,,,four,five,six,server,eight,nine</span></code></pre>
<blockquote>
<p>数组提供splice方法，可以删除一些元素并将它们替换为其他元素，splice方法第1个参数是数组中的标号，第2个参数是要删除的元素个数。被删除属性后面的每个属性必须被移除后再以一个新的键值重新插入，对大型数组来说效率不高。如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> numbers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'zero'</span><span class="token punctuation">,</span><span class="token string">'one'</span><span class="token punctuation">,</span><span class="token string">'two'</span><span class="token punctuation">,</span><span class="token string">'three'</span><span class="token punctuation">,</span><span class="token string">'four'</span><span class="token punctuation">,</span><span class="token string">'five'</span><span class="token punctuation">,</span><span class="token string">'six'</span><span class="token punctuation">,</span><span class="token string">'server'</span><span class="token punctuation">,</span><span class="token string">'eight'</span><span class="token punctuation">,</span><span class="token string">'nine'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;array:"</span><span class="token operator">+</span>numbers<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：zero,one,four,five,six,server,eight,nine</span></code></pre>
<blockquote>
<p>4、枚举。数组其实就是对象，所以for in语句可以用来遍历数组的所有属性，但无法保证属性的顺序，而且可能从原型中得到以外属性。使用for语句可以避免类似问题，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> numbers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'zero'</span><span class="token punctuation">,</span><span class="token string">'one'</span><span class="token punctuation">,</span><span class="token string">'two'</span><span class="token punctuation">,</span><span class="token string">'three'</span><span class="token punctuation">,</span><span class="token string">'four'</span><span class="token punctuation">,</span><span class="token string">'five'</span><span class="token punctuation">,</span><span class="token string">'six'</span><span class="token punctuation">,</span><span class="token string">'server'</span><span class="token punctuation">,</span><span class="token string">'eight'</span><span class="token punctuation">,</span><span class="token string">'nine'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//在数组原型上扩充两个方法。</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">integer</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">string</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> n <span class="token keyword">in</span> numbers<span class="token punctuation">)</span><span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;array:"</span><span class="token operator">+</span>numbers<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：</span>
<span class="token comment">//array:zero</span>
<span class="token comment">//array:one</span>
<span class="token comment">//array:two</span>
<span class="token comment">//array:three</span>
<span class="token comment">//array:four</span>
<span class="token comment">//array:five</span>
<span class="token comment">//array:six</span>
<span class="token comment">//array:server</span>
<span class="token comment">//array:eight</span>
<span class="token comment">//array:nine</span>
<span class="token comment">//array:function(){ }</span>
<span class="token comment">//array:function(){ }</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> n <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>n<span class="token operator">&lt;</span>numbers<span class="token punctuation">.</span>length<span class="token punctuation">;</span>n<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;array:"</span><span class="token operator">+</span>numbers<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：</span>
<span class="token comment">//array:zero</span>
<span class="token comment">//array:one</span>
<span class="token comment">//array:two</span>
<span class="token comment">//array:three</span>
<span class="token comment">//array:four</span>
<span class="token comment">//array:five</span>
<span class="token comment">//array:six</span>
<span class="token comment">//array:server</span>
<span class="token comment">//array:eight</span>
<span class="token comment">//array:nine</span></code></pre>
<blockquote>
<p>4、方法扩充。数组的方法是被存储在Array.prototype中的函数，我们可以根据实际情况扩充。假设我们想给array加个方法，允许我们队数组进行计算，如下例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token comment">//扩展数组方法，运行数组接收一个函数和一个基准值</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">reduce</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//起始值，默认为0，但需要相乘时需要指定为1。</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>value<span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> num<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        result<span class="token operator">=</span><span class="token function">func</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> inums<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//定义两个函数，一个是将数字相加，一个是数字相乘</span>
<span class="token keyword">var</span> <span class="token function-variable function">iadd</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">imult</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">*</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//调用reduce函数，传入add函数</span>
<span class="token keyword">var</span> sum<span class="token operator">=</span>inums<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>iadd<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;array sum="</span><span class="token operator">+</span>sum<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：array sum=55</span>

<span class="token comment">//调用reduce函数，传入imult函数，起始值指定为1(表示1*a*b)。</span>
<span class="token keyword">var</span> product<span class="token operator">=</span>inums<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>imult<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;array product="</span><span class="token operator">+</span>product<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：array product=3628800</span>

<span class="token comment">//数组也是对象，可以给数组添加单独的方法</span>
inums<span class="token punctuation">.</span><span class="token function-variable function">total</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>iadd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> total<span class="token operator">=</span>inums<span class="token punctuation">.</span><span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;array total="</span><span class="token operator">+</span>total<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//输出：array total=55</span></code></pre>
<h2 class="atx" id="07、正则表达式">07、正则表达式</h2>
<p><em>世上之事物本无善恶之分，思想使然。</em></p>
<blockquote>
<p>1、正则表达式是一门简单语言的语法规范。它应用在一些方法中，对字符串中的信息实现查找、提取和替换操作。可以处理正则表达式的方法有regexp.exec、regexp.test、string.match、string.replace、string.search和string.split。正则表达式相较于等效的字符串处理函数有着显著的性能优势。</p>
</blockquote>
<blockquote>
<p>2、JavaScript的许多特性都借鉴自其他语言，语法借鉴自Java，函数借鉴自Scheme，原型借鉴自Self，正则表达式借鉴自Perl。正则表达式的书写规则出奇地复杂，难以分段阅读，经常变得让人费解，编写时要特别地留意。</p>
</blockquote>
<blockquote>
<p>3、圆括号()表示一个捕获型分组(capturing group)，捕获型分组会复制它所匹配的文本，并把其放到result数组里，每个捕获型分组都会被指定一个编号，从1开始，result[0]存储的是原始字符串。(?:)则表示一个非捕获型分组(noncapturing group)。如以下示例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> pattern<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> url<span class="token operator">=</span><span class="token string">'http://www.zhuxin-010.com:8088/views?name=admin&amp;age=15#'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> results<span class="token operator">=</span>url<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>results<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>results<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp result="</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：</span>
<span class="token comment">//regexp result=010</span>
<span class="token comment">//regexp result=8088</span>
<span class="token comment">//regexp result=15</span>

pattern<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">:\d+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
results<span class="token operator">=</span>url<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>results<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>results<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp result="</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp result="</span><span class="token operator">+</span>RegExp<span class="token punctuation">.</span>$1<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：</span>
<span class="token comment">//regexp result=:8088</span>
<span class="token comment">//regexp result=</span>

pattern<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">:(\d+)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
results<span class="token operator">=</span>url<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>results<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>results<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp result="</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp result="</span><span class="token operator">+</span>RegExp<span class="token punctuation">.</span>$1<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：</span>
<span class="token comment">//regexp result=:8088</span>
<span class="token comment">//regexp result=8088</span></code></pre>
<blockquote>
<p>4、/^    $/框定的正则表达式指引所有的字符都进行匹配，如果省略这个标识，只要有一串字符符合就会进行匹配。如以下示例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> snumber<span class="token operator">=</span><span class="token string">'a123.45b'</span>
<span class="token keyword">var</span> spattern<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[+-]*\d+\.*\d*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> sresults<span class="token operator">=</span>snumber<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>spattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>sresults<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>sresults<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp snumber="</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：regexp snumber=123.45</span></code></pre>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> snumber<span class="token operator">=</span><span class="token string">'-123.45'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> spattern<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[+-]*\d+\.*\d*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> sresults<span class="token operator">=</span>snumber<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>spattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>sresults<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>sresults<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp snumber="</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：regexp snumber=-123.45</span>

snumber<span class="token operator">=</span><span class="token string">'a123.45b'</span>
<span class="token keyword">var</span> sresults<span class="token operator">=</span>snumber<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>spattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>sresults<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>sresults<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp snumber="</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//控制台输出：Uncaught TypeError: Cannot read properties of null (reading 'length')</span>
<span class="token comment">//表示没有匹配结果。</span></code></pre>
<blockquote>
<p>5、有两种方法来创建一个RegExp对象，正则表达式字面量和RegExp构造函数，优先使用字面量方式。如以下示例：</p>
</blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> spattern<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[+-]*\d+\.*\d*(e[+\-]?\d+)?$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>        <span class="token comment">//字面量方式</span>
<span class="token keyword">var</span> sregexp<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'^[+-]*\\d+\\.*\\d*(e[+\\-]?\\d+)?'</span><span class="token punctuation">,</span><span class="token string">'gi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//构造函数方式</span></code></pre>
<h2 class="atx" id="08、标准方法集">08、标准方法集</h2>
<p><em>不要只因一次失败，就放弃你决心想达到的目的。</em></p>
<blockquote>
<p>1、String</p>
</blockquote>
<blockquote>
<blockquote>
<p>string.concat(string...)，把多个字符串连接在一起，跟+运算符一样。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">'B'</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//Bei</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>string.indexOf(searchString,position)，在string内查找另一个字符串searchString,如果找到返回第一个匹配字符的位置，否则返回-1。可选参数position可以设置从指定的位置开始查找。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">'Mississippi'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pos<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'ss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//2</span>
pos<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'ss'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//5</span>
pos<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'ss'</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//-1</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>string.lastIndexOf(searchString,position)，从string末尾查找另一个字符串searchString,如果找到返回第一个匹配字符的位置，否则返回-1。可选参数position可以设置从指定的位置开始查找。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">'Mississippi'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pos<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'ss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//5，从末尾向前查找，匹配到最后一个ss</span>
pos<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'ss'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//2，从Miss向前查找，匹配到第一个ss</span>
pos<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'ss'</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//5，从Mississ 向前查找，匹配到最后一个ss</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>string.match(regexp)，让一个字符串和一个正则表达式进行匹配，根据g标识来决定如何匹配，如果没有g标识string.match(regexp)和regexp.exec(string)结果相同。</p>
<pre><code class="fenced-code-block language-js"><span class="token operator">&gt;</span> <span class="token operator">&gt;</span> <span class="token keyword">var</span> pattern<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> url<span class="token operator">=</span><span class="token string">'http://www.zhuxin-010.com:8088/views?name=admin&amp;age=15#'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> results<span class="token operator">=</span>url<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>results<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>results<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp result="</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：regexp result=010</span>

results<span class="token operator">=</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>results<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>results<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp exec result="</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：regexp result=010</span></code></pre>
<p>如果带有g标识，你们它生成一个包含所有匹配（除捕获分组之外）的数组。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> pattern<span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> url<span class="token operator">=</span><span class="token string">'http://www.zhuxin-010.com:8088/views?name=admin&amp;age=15#'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> results<span class="token operator">=</span>url<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>results<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>results<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp result="</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：</span>
<span class="token comment">//regexp result=010</span>
<span class="token comment">//regexp result=8088</span>
<span class="token comment">//regexp result=15</span>

results<span class="token operator">=</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>results<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token operator">=</span>results<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;regexp exec result="</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//输出：regexp result=010</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>string.search(regexp)，与indexOf方法类型，返回第一个匹配的首字符位置，此方法会忽略g标识且没有position参数。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">'Mississippi'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pos<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ss</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//2</span>
<span class="token keyword">var</span> pos<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">si(?=p)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//6</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>string.replace(searchValue,replaceValue)，对string进行查找和替换操作，并返回一个新的字符串。如果searchValue是一个正则表达式且带有g标识，会替换所有的匹配，否则仅替换第一个匹配，如下例：</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">'Mississippi'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newname<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"ss"</span><span class="token punctuation">,</span><span class="token string">"-ss-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//Mi-ss-issippi</span>
newname<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ss</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token string">"-ss-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//Mi-ss-issippi</span>
newname<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ss</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">"-ss-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//Mi-ss-i-ss-ippi</span></code></pre>
<p>replaceValue可以是一个字符串或函数。如果是字符串，字符$拥有特别的含义：</p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<table>
<thead>
<tr>
<th>符号</th>
<th>替换对象</th>
</tr>
</thead>
<tbody><tr>
<td>$$</td>
<td>$</td>
</tr>
<tr>
<td>$&amp;</td>
<td>整个匹配的文本</td>
</tr>
<tr>
<td>$number</td>
<td>分组捕获的文本</td>
</tr>
<tr>
<td>$`</td>
<td>匹配之前的文本</td>
</tr>
<tr>
<td>$'</td>
<td>匹配之后的文本</td>
</tr>
</tbody></table>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">'Mississippi'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newname<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(s+)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">"-$1$$-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//Mi-ss$-i-ss$-ippi</span></code></pre>
<p>如果replaceValue是函数，每遇到一次匹配函数就会被调用一次，返回的字符串会被用做替换文本。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">'Mississippi'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newname<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(s+)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"*"</span><span class="token operator">+</span>n<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"*"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Mi*SS*i*SS*ippi</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>string.slice(start,end)，复制string的一部分来构造一个新的字符串。如果start是负数，它将与string.length相加。end参数是可选的，默认值是string.length。</p>
<pre><code class="fenced-code-block language-js"><span class="token operator">&gt;</span> <span class="token operator">&gt;</span> <span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">'Mississippi'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newname<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//ssippi</span>
newname<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//空字符</span>
newname<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ssip</span>
newname<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//sippi</span>
newname<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//sipp</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>string.substring(start,end)，用法和slice一样，只是不能处理负数参数。<mark>没有任何理由使用substring方法，请用slice替代它。</mark></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>string.split(separator,limit)，把string分割成片段来创建一个字符串数组。separator参数可以是一个字符串或正则表达式，可选参数limit可以限制被分割的片段数量，如下例：</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> digits<span class="token operator">=</span><span class="token string">'0123456789'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> nums<span class="token operator">=</span>digits<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//["0","1","2","3","4","5"]</span>

digits<span class="token operator">=</span><span class="token string">'192.168.1.0'</span><span class="token punctuation">;</span>
nums<span class="token operator">=</span>digits<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//["192","168","1","0"]</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>string.charAt(pos)，返回在string中pos位置处的字符。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">'Beijing'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> initial<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//i</span>
initial<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//空字符串</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>string.charCodeAt(pos)，返回在string中pos位置处的字符码位。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">'Beijing'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> initial<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//105</span>
initial<span class="token operator">=</span>name<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//NaN</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>String.fromCharCode(char...)，根据一串数字编码返回一个字符串，如下例：</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> newname<span class="token operator">=</span>String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span><span class="token number">66</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span><span class="token number">106</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span><span class="token number">110</span><span class="token punctuation">,</span><span class="token number">103</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//Beijing</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<p>2、Number</p>
</blockquote>
<blockquote>
<blockquote>
<p>number.toExponential(fractionDigits)，把number转换成一个指数形式的字符串，可选参数fractionDigits控制其小数点后的数字位数，必须在0~100之间。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toExponential</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//3.141592653589793e+0</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toExponential</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//3e+0</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toExponential</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//3.14159e+0</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toExponential</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//3.1415926535897931159979634685441851615905761718750000000000000000000000000000000000000000000000000000e+0</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>number.toFixed(fractionDigits)，把number转换成一个十进制数形式的字符串，可选参数fractionDigits控制其小数点后的数字位数，必须在0~100之间，默认值为0。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//3</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//3</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//3.14159</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//3.1415926535897931159979634685441851615905761718750000000000000000000000000000000000000000000000000000</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>number.toPrecision(precision)，把number转换成一个十进制数形式的字符串，可选参数precision控制数字的精度，必须在0~100之间。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//3.141592653589793</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//3</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//3.1416</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//3.141592653589793115997963468544185161590576171875000000000000000000000000000000000000000000000000000</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>number.toString(radix)，把number转换成一个字符串，可选参数radix控制基数，必须在2~36之间，默认以10为基数。radix常用的是整数，但它可以用任意的数字。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//3.141592653589793</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//11.001001000011111101101010100010001000010110100011</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//3.0323221430334324112412</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//3.141592653589793</span>
numstr<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//3.53i5ab8p5f</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<p>3、Array</p>
</blockquote>
<blockquote>
<blockquote>
<p>array.concat(item...)，产生一个新数组，它包含一份array的浅复制并把一个或多个参数附加在其尾部，跟array.push(item...)方法类似。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>tarray1<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token number">3.14159</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarray=a,b,c,d,1,2,3,4,true,,,false,3.15159</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>array.push(item...)，修改array，把一个或多个参数附加到一个数组尾部，返回值是这个新数组的长度。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tarray1<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token number">3.14159</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarray length=7</span>
<span class="token comment">//tarray=["a", "b", "c", "d", [1, 2, 3, 4 ], true, [null, null, false, 3.14159 ] ]</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>array.pop()，移除array中的最后1个元素并返回该元素，如果array是空的，它会返回undefined。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarray="d"</span>
<span class="token comment">//tarraya=["a", "b", "c"]</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>array.shift()，移除array中的第1个元素并返回该元素，如果array是空的，它会返回undefined。它的效率通常比pop()慢得多。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarray="a"</span>
<span class="token comment">//tarraya=["b", "c", "d"]</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>array.unshift(item...)，与push(item...)方法类似，把item插入到array的开始部分而不是尾部。返回值是这个新数组的长度。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>tarray1<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token number">3.14159</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarray=7</span>
<span class="token comment">//tarraya=[[1, 2, 3, 4 ], true, [null, null, false, 3.14159 ], "a", "b", "c", "d"]</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>array.slice(start,end)，对array中的一段做浅复制。end是可选参数，默认值是array.length，如果参数为负数，array.length会和它们相加。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//["c", "d", "e", "f"]</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//["c", "d"]</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//["c", "d", "e"]</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>array.splice(start,deleteCount,item...)，从array中移除一个或多个元素，并用item替换它们，返回一个包含被移除元素的数组。start是开始位置，deleteCount是要移除的元素个数。如果有额外参数item，那些item会插入到被移除元素的位置。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarray=["c", "d", "e", "f"]</span>
<span class="token comment">//tarraya=["a", "b"]</span>

tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">,</span><span class="token string">'E'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarray=[]</span>
<span class="token comment">//tarraya=["a", "b", "C", "D", "E"]</span>

tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarray=["c", "d", "e"]</span>
<span class="token comment">//tarraya=["a", "b", "C", "f"]</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>array.join(separator)，把array构造成一个字符串，默认的separator是逗号','。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//"a,b,c,d,e,f"</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//"a-b-c-d-e-f"</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>array.reverse()，把array里的元素顺序翻转，并返回array本身。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//tarraya和tarray都是["f", "e", "d", "c", "b", "a"]</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>array.sort(compare_func)，对array里的元素进行排序，并返回array本身。但它不能正确地给数字排序，它默认的比较函数是把元素都视为字符串。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"z"</span><span class="token punctuation">,</span> <span class="token string">"g"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarraya和tarray都是["a", "b", "c", "d", "e", "f", "g", "z"]</span>

tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarraya和tarray都是[105, 106, 110, 2, 28, 3, 66, 999 ]，很明显结果不正确。</span></code></pre>
<p>可以使用自定义比较函数来替换默认的比较函数。比较函数接收两个参数，两个参数相等则返回0，如果第1个参数应排列在前面，则返回一个负数，如果第2个参数应排在前面，则返回一个正数。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">-</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarraya和tarray都是[2, 3, 28, 66, 105, 106, 110, 999]</span></code></pre>
<p>如果想要给任何简单类型值的数组排序，需对比类型后返回，如下例：</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tarraya<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span><span class="token boolean">true</span> <span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token string">"f"</span><span class="token punctuation">,</span><span class="token string">"e"</span><span class="token punctuation">,</span><span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"z"</span><span class="token punctuation">,</span> <span class="token string">"g"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tarray<span class="token operator">=</span>tarraya<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">===</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">===</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">===</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token operator">===</span> <span class="token keyword">typeof</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">&lt;</span>b<span class="token operator">?</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> a<span class="token operator">===</span> <span class="token keyword">typeof</span> b<span class="token operator">?</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//tarraya和tarray都是[null, true, 2, 3, 28, 66, 105, 106, 110, 999, "a", "b", "c", "d", "e", "f", "g", "z", undefined ]</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<p>3、Function</p>
</blockquote>
<blockquote>
<blockquote>
<p>function.apply(thisArg,argArray)，调用function，参数传递一个会被绑定到this上的对象和一个可选的数组。</p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> <span class="token function-variable function">xfunction</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sign</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> si<span class="token operator">=</span>sign<span class="token operator">||</span><span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> str<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">+</span>si<span class="token punctuation">;</span>
    <span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> str<span class="token operator">=</span><span class="token function">xfunction</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">value</span><span class="token operator">:</span><span class="token number">0.985</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'%'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//98.5%</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<p>4、Object</p>
</blockquote>
<blockquote>
<blockquote>
<p>object.hasOwnProperty(name)，如果这个object包含名为name的属性，那么返回true。原型链中的同名属性不会被检查。</p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> xobject<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'huwg'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">member</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">26</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> xt<span class="token operator">=</span>xobject<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//an_xt=true</span>

<span class="token keyword">var</span> <span class="token function-variable function">xfunction</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
xfunction<span class="token punctuation">.</span>prototype<span class="token operator">=</span>xobject<span class="token punctuation">;</span>
<span class="token keyword">var</span> an_xobject<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">xfunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> an_xt<span class="token operator">=</span>an_xobject<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//an_xt=false</span></code></pre>
</blockquote>
</blockquote>
<blockquote>
<p>5、RegExp</p>
</blockquote>
<blockquote>
<blockquote>
<p>regexp.test(string)，正则表达式中最简单（和最块）的方法。如果该regexp匹配string返回true，否则返回false，不要对这个方法使用g标识。</p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>regexp.exec(string)，正则表达式中最强大（和最慢）的方法。如果匹配失败返回null，如果匹配成功返回一个数组。如果带有g标识，规则会变得更加复杂，它不是从起始位置开始查找，而是从regexp.lastIndex（初始值为0）开始。</p>
</blockquote>
</blockquote>
<h2 class="atx" id="09、代码风格">09、代码风格</h2>
<p><em>多听，少说，接受每一个人的责难，但是保留你的最后裁决。</em></p>
<blockquote>
<p>1、优秀的程序拥有一个前瞻性的结构，它能预见到在未来才可能需要的修改，但不会让其成为多度的负担。</p>
</blockquote>
<blockquote>
<p>2、优秀的程序具备一种清晰的表达方式，能容易地去理解它，以便成功的改造或修补它。</p>
</blockquote>
<blockquote>
<p>3、始终使用代码块，一对花括号可以用低廉的成本去防止需要昂贵代价才能发现的bug。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>              <span class="token comment">//不要省略这一对花括号</span>
    <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span><span class="token punctuation">{</span>             <span class="token comment">//{放在第一行的结尾而不是下一行的开头，可以避免return中的设计错误。</span>
    <span class="token literal-property property">status</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">return</span>              <span class="token comment">//程序在这一行就返回来，无法返回一个对象。</span>
<span class="token punctuation">{</span>             
    <span class="token literal-property property">status</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</blockquote>
<blockquote>
<p>4、使用行注释，并保存注释是最新且有用的。</p>
</blockquote>
<blockquote>
<p>5、每个对象都有它自己的命名空间，使用唯一一个全局变量，使用闭包隐藏信息增加健壮性。</p>
</blockquote>
<h2 class="atx" id="10、陷阱与糟粕">10、陷阱与糟粕</h2>
<p><em>爱所有人，信任少数人，不负任何人。</em></p>
<blockquote>
<p>1、保留字不能被用来命名变量或参数，当保留字被用做对象字面量的键值是，必须被引号括起来。</p>
<pre><code class="fenced-code-block language-js"><span class="token comment">//JavaScript保留字（按照字符排序）</span>
abstract
boolean <span class="token keyword">break</span> byte
<span class="token keyword">case</span> catch char <span class="token keyword">class</span> <span class="token class-name">const</span> <span class="token keyword">continue</span>
<span class="token keyword">debugger</span> <span class="token keyword">default</span> <span class="token keyword">delete</span> <span class="token keyword">do</span> double
<span class="token keyword">else</span> <span class="token keyword">enum</span> <span class="token keyword">export</span> <span class="token keyword">extends</span>
<span class="token class-name">false</span> final finally float <span class="token keyword">for</span> <span class="token keyword">function</span>
goto
<span class="token keyword">if</span> <span class="token keyword">implements</span> <span class="token class-name">import</span> <span class="token keyword">in</span> <span class="token keyword">instanceof</span> <span class="token class-name">int</span> <span class="token keyword">interface</span>
<span class="token class-name">long</span>
native <span class="token keyword">new</span> <span class="token class-name">null</span>
<span class="token keyword">package</span> <span class="token keyword">private</span> <span class="token keyword">protected</span> <span class="token keyword">public</span>
<span class="token keyword">return</span>
short <span class="token keyword">static</span> <span class="token keyword">super</span> <span class="token keyword">switch</span> synchronized
<span class="token keyword">this</span> <span class="token keyword">throw</span> throws transient <span class="token boolean">true</span> <span class="token keyword">try</span> <span class="token keyword">typeof</span>
<span class="token keyword">var</span> <span class="token keyword">void</span> volatile
<span class="token keyword">while</span> <span class="token keyword">with</span></code></pre>
</blockquote>
<blockquote>
<p>2、typeof运算符返回识别对象类型的字符串，但它无法区分对象、数组、null，都会返回object。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> tname<span class="token operator">=</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
tname<span class="token operator">=</span><span class="token keyword">typeof</span> <span class="token operator">/</span>\d<span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">;</span>
tname<span class="token operator">=</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token comment">//以上均为tname=object</span></code></pre>
</blockquote>
<blockquote>
<p>3、parseInt是一个吧字符串转换为整数的函数，它在遇到非数字时会停止解析。第二个参数是基数参数，可以基于八进制来求值。建议总是加上基数参数。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> yint<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'1.56'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//1</span>
yint<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'15icons'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//15</span>
yint<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'20'</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//16，基于八进制求值，20在八进制代表2*8=16</span></code></pre>
</blockquote>
<blockquote>
<p>4、+运算符用于加法运算或字符串连接。如果两个运算数都是数字，它返回两者之和，否则把两个运算数都转换为字符串并连接起来。</p>
</blockquote>
<blockquote>
<p>5、二进制的浮点数不能正确地处理十进制的小数。它是遵循二进制浮点数算术标准而有意导致的结果，可以通过指定精度来避免。</p>
<pre><code class="fenced-code-block language-js"> <span class="token keyword">var</span> yfloat<span class="token operator">=</span><span class="token number">0.1</span><span class="token operator">+</span><span class="token number">0.2</span><span class="token punctuation">;</span>                    \\<span class="token number">0.30000000000000004</span> 
 <span class="token keyword">var</span> yint<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">;</span>    \\<span class="token number">0.3</span></code></pre>
</blockquote>
<blockquote>
<p>6、NaN是一个特殊的数量值，它表示的不是一个数字，JavaScript提供了一个isNaN函数来判别数字与NaN。</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> ynan<span class="token operator">=</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//true</span>
ynan<span class="token operator">=</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//false</span>
ynan<span class="token operator">=</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//false</span>
ynan<span class="token operator">=</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'0A0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//true</span></code></pre>
<p>判断一个值是否可用作数字的最佳方法是isFinite函数，因为它会筛除掉NaN和Infinity，遗憾的是isFinite会试图把运算数转换为一个数字，我们可以自定义一个isNumber函数判断是否为数字：</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> <span class="token function-variable function">isNumber</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> value<span class="token operator">===</span><span class="token string">'number'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isFinite</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> ynan<span class="token operator">=</span><span class="token function">isNumber</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//true</span>
ynan<span class="token operator">=</span><span class="token function">isNumber</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//false</span></code></pre>
</blockquote>
<blockquote>
<p>7、false，以下值全部等同于false：</p>
</blockquote>
<blockquote>
<table>
<thead>
<tr>
<th>值</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>Number</td>
</tr>
<tr>
<td>NaN</td>
<td>Number</td>
</tr>
<tr>
<td>''</td>
<td>String</td>
</tr>
<tr>
<td>false</td>
<td>Boolean</td>
</tr>
<tr>
<td>null</td>
<td>Object</td>
</tr>
<tr>
<td>undefined</td>
<td>Undefined</td>
</tr>
</tbody></table>
</blockquote>
<blockquote>
<p>8、请始终使用===和!==，它们的孪生兄弟==和!=只有在运算数类型一致时才会做出正确的判断，其它情况下它们的邪恶表现如下：</p>
<pre><code class="fenced-code-block language-js"><span class="token keyword">var</span> zb<span class="token operator">=</span><span class="token string">''</span><span class="token operator">==</span><span class="token string">'0'</span><span class="token punctuation">;</span>        <span class="token comment">//false</span>
zb<span class="token operator">=</span><span class="token number">0</span><span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">;</span>              <span class="token comment">//true</span>
zb<span class="token operator">=</span><span class="token number">0</span><span class="token operator">==</span><span class="token string">'0'</span><span class="token punctuation">;</span>             <span class="token comment">//true</span>
zb<span class="token operator">=</span><span class="token boolean">false</span><span class="token operator">==</span><span class="token string">'0'</span><span class="token punctuation">;</span>         <span class="token comment">//true</span>
zb<span class="token operator">=</span><span class="token boolean">false</span><span class="token operator">==</span><span class="token string">'false'</span><span class="token punctuation">;</span>     <span class="token comment">//false</span>
zb<span class="token operator">=</span><span class="token boolean">false</span><span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token comment">//false</span>
zb<span class="token operator">=</span><span class="token boolean">false</span><span class="token operator">==</span><span class="token keyword">undefined</span><span class="token punctuation">;</span>   <span class="token comment">//false</span>
zb<span class="token operator">=</span><span class="token keyword">null</span><span class="token operator">==</span><span class="token keyword">undefined</span><span class="token punctuation">;</span>    <span class="token comment">//true</span>
zb<span class="token operator">=</span><span class="token string">'\t'</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">;</span>            <span class="token comment">//true</span>
zb<span class="token operator">=</span><span class="token string">'\r'</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">;</span>            <span class="token comment">//true</span>
zb<span class="token operator">=</span><span class="token string">'\n'</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">;</span>            <span class="token comment">//true</span></code></pre>
</blockquote>
<blockquote>
<p>9、避免使用++运算符和--运算符，它们是导致病毒和安全威胁的第二大元凶（第一大是架构缺陷），可以使用+=1、-=1代替。</p>
</blockquote>
<blockquote>
<p>10、避免使用with语句。</p>
</blockquote>
<blockquote>
<p>11、避免使用eval语句。</p>
</blockquote>
<blockquote>
<p>12、避免使用位运算符。</p>
</blockquote>
<blockquote>
<p>13、避免使用void运算符。</p>
</blockquote>
</article>
</body>
</html>